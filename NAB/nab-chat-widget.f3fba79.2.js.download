(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[2],{170:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){var n=a(168),r=a(169),c=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var n=e.indexOf(t);-1===n||e.splice(n,1),e.push(t)},deactivateTrap:function(t){var a=e.indexOf(t);-1!==a&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}}}();function s(e){return setTimeout(e,0)}e.exports=function(e,t){var a=e.getRootNode?e.getRootNode():document,i="string"===typeof e?a.querySelector(e):e,o=r({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),l={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},u={activate:function(e){if(l.active)return;C(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=a.activeElement;var t=e&&e.onActivate?e.onActivate:o.onActivate;t&&t();return d(),u},deactivate:m,pause:function(){if(l.paused||!l.active)return;l.paused=!0,g()},unpause:function(){if(!l.paused||!l.active)return;l.paused=!1,d()}};return u;function m(e){if(l.active){g(),l.active=!1,l.paused=!1,c.deactivateTrap(u);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:o.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:o.returnFocusOnDeactivate)&&s((function(){y(l.nodeFocusedBeforeActivation)})),u}}function d(){if(l.active)return c.activateTrap(u),C(),s((function(){y(f())})),a.addEventListener("focusin",p,!0),a.addEventListener("mousedown",b,!0),a.addEventListener("touchstart",b,!0),a.addEventListener("click",E,!0),a.addEventListener("keydown",v,!0),u}function g(){if(l.active)return a.removeEventListener("focusin",p,!0),a.removeEventListener("mousedown",b,!0),a.removeEventListener("touchstart",b,!0),a.removeEventListener("click",E,!0),a.removeEventListener("keydown",v,!0),u}function h(e){var t=o[e],n=t;if(!t)return null;if("string"===typeof t&&!(n=a.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"===typeof t&&!(n=t()))throw new Error("`"+e+"` did not return a node");return n}function f(){var e;if(!(e=null!==h("initialFocus")?h("initialFocus"):i.contains(a.activeElement)?a.activeElement:l.firstTabbableNode||h("fallbackFocus")))throw new Error("You can't have a focus-trap without at least one focusable element");return e}function b(e){i.contains(e.target)||(o.clickOutsideDeactivates?m({returnFocus:!n.isFocusable(e.target)}):e.preventDefault())}function p(e){i.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),y(l.mostRecentlyFocusedNode||f()))}function v(e){if(!1!==o.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void m();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(C(),e.shiftKey&&e.target===l.firstTabbableNode)return e.preventDefault(),void y(l.lastTabbableNode);if(!e.shiftKey&&e.target===l.lastTabbableNode)e.preventDefault(),y(l.firstTabbableNode)}(e)}function E(e){o.clickOutsideDeactivates||i.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function C(){var e=n(i);l.firstTabbableNode=e[0]||f(),l.lastTabbableNode=e[e.length-1]||f()}function y(e){e!==a.activeElement&&(e&&e.focus?(e.focus(),l.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(e)&&e.select()):y(f()))}}},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n,r=a(9),c=a.n(r),s=(a(240),a(0)),i=a(38),o=a(18),l=a(2),u=a(3),m=a(304),d=Object(r.createContext)({addMessage:void 0}),g=function(e){var t=e.children,a=e.lastReadMessageIndex,n=Object(r.useRef)(""),s=Object(r.useRef)(0),i=Object(m.a)().setA11yMessage;return c.a.createElement(d.Provider,{value:{addMessage:function(e,t){t&&a>t||(0!==s.current&&clearTimeout(s.current),n.current+=" "+e,s.current=setTimeout((function(){i(n.current,"polite"),n.current="",s.current=0}),1e3))}}},t)},h=function(e){var t=e.message,a=e.index,n=Object(r.useContext)(d).addMessage;return Object(r.useEffect)((function(){t&&""!==t&&n(t,a)}),[t,a]),c.a.createElement(c.a.Fragment,null)},f=a(309),b=a(312),p=a(7),v=a(8),E=a(125),C=a(123),y=a.n(C),k=(a(241),["className","icon","children"]),N=function(e){var t=e.className,a=e.icon,n=e.children,c=Object(E.a)(e,k);return r.createElement("div",Object.assign({className:y()("nab-gc-Alert",t)},c),a&&r.createElement("div",{className:"nab-gc-Alert-icon"},a),r.createElement("div",{className:"nab-gc-Alert-content"},n))},M=(a(242),function(e){return r.createElement(N,Object.assign({icon:r.createElement(Y,null),className:"nab-gc-AlertDanger"},e))}),w=(a(243),function(e){return r.createElement(N,Object.assign({icon:r.createElement(J,null),className:"nab-gc-AlertInfo"},e))}),T=(a(244),function(e){return r.createElement(N,Object.assign({icon:r.createElement(V,null),className:"nab-gc-AlertSuccess"},e))}),x=function(e){var t=e.rotation,a=void 0===t?0:t;return r.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 185.343 185.343",width:"22px",height:"22px"},r.createElement("g",{transform:"rotate(".concat(a,", 92.6715, 92.6715)")},r.createElement("g",null,r.createElement("path",{d:"M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175 l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934 c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z"}))))},O=(a(245),function(e){var t=e.show,a=e.className,n=void 0===a?"":a,c=e.children,s=e.delay,i=void 0===s?200:s,o=e.animation,l=void 0===o?"fade":o;return r.createElement(b.a,{className:n},t&&r.createElement(f.a,{key:"1",classNames:l,timeout:i},c))}),L=(a(247),function(e){var t=e.index,a=e.readable,n=e.children;return r.createElement("div",{id:t?t.toString():"",className:"trackableItem "+(a?"readableItem":"")},n)}),F=a(23),I=a(5),S=(a(248),function(){return r.createElement("div",{className:"nab-gc-UnreadMessagesMarker"},r.createElement("span",{className:"nab-gc-UnreadMessagesMarkerSide"},r.createElement("hr",null)),r.createElement("span",{className:"nab-gc-UnreadMessagesMarkerText"},I.K),r.createElement("span",{className:"nab-gc-UnreadMessagesMarkerSide"},r.createElement("hr",null)))}),A=(a(249),function(e){return e>1?I.K:I.J}),B=function(e){var t=e.scrollDownToUnreadMessage,a=e.cancelUnreadMessages,n=e.unreadMessages;return r.createElement(b.a,null,0!==n?r.createElement(f.a,{key:"newMessages",classNames:"cross-fade",timeout:{enter:800,exit:800}},r.createElement("div",{className:"nab-gc-NewMessagesContainer"},r.createElement(h,{message:"".concat(n," ").concat(A(n),", use skip link or headings to go to unread.")}),r.createElement("span",{className:"nab-gc-NewMessagesBox"},r.createElement("button",{"aria-label":"".concat(n," ").concat(A(n)," skip to first unread"),className:"nab-gc-MessageBoxCounterBox",onClick:t},n>9?r.createElement("div",{className:"nab-gc-NotificationBell"},r.createElement(X,{size:24,animated:!1})):n),r.createElement("span",{role:"button",className:"nab-gc-MessageBoxCounterText",onClick:t},r.createElement(Q,null),"\xa0\xa0",A(n)),r.createElement("span",{className:"nab-gc-MessageBoxSeperator"},"\xa0"),r.createElement("button",{"aria-label":"Close",className:"nab-gc-MessageBoxClose",onClick:a},r.createElement(q,null))))):null)},j=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).messagesContainer=void 0,e.previousDeviceOrientation=void 0,e.previousMessagesHeight=-1,e.componentReset=!0,e.unreadMarker=void 0,e.lastScrollEventTime=-1,e.state={numberOfUnread:0},e.updateReadItemIndex=function(){if(e.messagesContainer){var t=e.messagesContainer.getBoundingClientRect(),a=t.height+t.top;if(0!==a){var n=e.messagesContainer.getElementsByClassName("readableItem");if(0!==n.length)for(var r=+n[n.length-1].attributes.id.value,c=n.length-1;c>=0;c--){var s=+n[c].attributes.id.value;if(n[c].getBoundingClientRect().top<a)return void(e.props.lastReadIndex<s&&e.props.onRead(r))}}}},e.deviceOrientation=function(){return window.innerWidth>window.innerHeight?s.g.DEVICE_ORIENTATION_LANDSCAPE:s.g.DEVICE_ORIENTATION_PORTRAIT},e.calculateMessagesHeight=function(){if(e.messagesContainer){var t=e.messagesContainer.scrollHeight,a=e.messagesContainer.getElementsByClassName("trackableItem"),n=a[a.length-1]||null;return t-(n?n.clientHeight:0)-20}return 0},e.scrollToTopOfLastMessage=function(t){if(e.messagesContainer&&(e.messagesContainer.scrollTop=e.calculateMessagesHeight(),t)){var a=t||{},n=a.currentDeviceOrientation,r=a.messagesHeight;e.componentReset=!1,e.previousDeviceOrientation=n,e.previousMessagesHeight=r}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=F.a.CHAT_PANEL_BODY;return r.createElement(r.Fragment,null,r.createElement("div",{className:y()("nab-gc-TrackableMessageContainer ",{smoothScroll:!this.componentReset,disableScrollbar:this.props.scrollLockedToBottom}),id:t,tabIndex:0,onScroll:this.onScroll.bind(this),onWheel:this.onWheel.bind(this),onKeyDown:this.onKeyDown.bind(this),ref:function(t){t&&(t.onwheel=e.onWheel.bind(e)),e.messagesContainer=t}},r.createElement("div",{className:y()("nab-gc-UnreadMarkerContainer","fade-out"),ref:function(t){return e.unreadMarker=t}},r.createElement(S,null)),this.props.children),r.createElement(B,{unreadMessages:this.props.scrollLockedToBottom?0:this.state.numberOfUnread,cancelUnreadMessages:this.cancelUnreadMessages.bind(this),scrollDownToUnreadMessage:this.scrollDownToFirstUnreadMessage.bind(this)}))}},{key:"componentDidUpdate",value:function(){var e=this;if(this.messagesContainer&&this.props.children&&0!==this.messagesContainer.clientHeight)if(this.componentReset&&-1!==this.props.lastReadIndex)this.componentReset=!1,this.scrollDownToFirstUnreadMessage();else if(this.props.scrollLockedToBottom){var t=this.calculateMessagesHeight(),a=this.deviceOrientation();(this.previousMessagesHeight!==t||this.componentReset||a!==this.previousDeviceOrientation)&&setTimeout((function(){if(e.props.scrollLockedToBottom){var t=e.calculateMessagesHeight(),a=e.deviceOrientation();e.scrollToTopOfLastMessage({currentDeviceOrientation:a,messagesHeight:t})}}),300)}else this.state.numberOfUnread!==this.numberOfUnread()&&(this.setState({numberOfUnread:this.numberOfUnread()}),this.updateReadItemIndex())}},{key:"cancelUnreadMessages",value:function(){if(this.messagesContainer){var e=this.messagesContainer.getElementsByClassName("readableItem"),t=+e[e.length-1].attributes.id.value;this.props.onRead(t)}}},{key:"scrollDownToFirstUnreadMessage",value:function(){var e=this;if(this.messagesContainer&&-1!==this.props.lastReadIndex)for(var t=this.messagesContainer.getElementsByClassName("trackableItem"),a=0;a<t.length;a++){var n=t[a].attributes.id.value;if(this.props.lastReadIndex<n&&t[a].classList.contains("readableItem")){if(t[a].classList.add("nab-gc-withMarkerOnTop"),0!==a){var r=t[a].getBoundingClientRect().top,c=r+this.messagesContainer.scrollTop-this.messagesContainer.getBoundingClientRect().top;this.hideUnreadMessagesAndPositionUnreadMarker(c,r),this.messagesContainer.scrollTop=c,this.updateReadItemIndex(),setTimeout((function(){return e.waitForScrollingToStopAndThenRun((function(){return e.newMessagesAnimation()}))}),100)}return}}this.scrollToTopOfLastMessage()}},{key:"hideUnreadMessagesAndPositionUnreadMarker",value:function(e,t){if(this.unreadMarker&&this.messagesContainer){this.unreadMarker.style.top=e+"px",this.unreadMarker.classList.add("fade-out");for(var a=this.messagesContainer.querySelectorAll(".trackableItem"),n=0;n<a.length;n++)a[n].getBoundingClientRect().top>=t&&a[n].classList.add("fade-out")}}},{key:"waitForScrollingToStopAndThenRun",value:function(e){var t=this;this.lastScrollEventTime<Date.now()-100?e():setTimeout((function(){return t.waitForScrollingToStopAndThenRun(e)}),100)}},{key:"newMessagesAnimation",value:function(){var e=this;this.fadeInHiddenUnreadMessagesAndUnreadMarker(),setTimeout((function(){return e.fadeOutUnreadMessageMarker()}),3e3)}},{key:"fadeInHiddenUnreadMessagesAndUnreadMarker",value:function(){if(this.unreadMarker&&this.messagesContainer)for(var e=this.messagesContainer.querySelectorAll(".fade-out"),t=0;t<e.length;t++)e[t].classList.remove("fade-out"),e[t].classList.add("fade-in")}},{key:"fadeOutUnreadMessageMarker",value:function(){if(this.unreadMarker&&(this.unreadMarker.classList.remove("fade-in"),this.unreadMarker.classList.add("fade-out")),this.messagesContainer)for(var e=this.messagesContainer.querySelectorAll(".nab-gc-withMarkerOnTop"),t=0;t<e.length;t++)e[t].classList.remove("nab-gc-withMarkerOnTop")}},{key:"onWheel",value:function(){this.onUserScroll()}},{key:"onKeyDown",value:function(e){"PageUp"!==e.key&&"PageDown"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Home"!==e.key&&"End"!==e.key||this.onUserScroll()}},{key:"onScroll",value:function(){this.lastScrollEventTime=Date.now(),!this.componentReset&&this.messagesContainer&&this.updateReadItemIndex()}},{key:"onUserScroll",value:function(){var e=this.messagesContainer.scrollTop+this.messagesContainer.clientHeight;this.messagesContainer.scrollHeight-30<=e?this.props.onScrollLockUnlock(!0):this.props.onScrollLockUnlock(!1),this.updateReadItemIndex()}},{key:"calculateUnreadCount",value:function(e){for(var t=this.messagesContainer.getElementsByClassName("readableItem"),a=0,n=0;n<t.length;n++){e<+t[n].attributes.id.value&&a++}return a}},{key:"numberOfUnread",value:function(){return this.messagesContainer&&-1!==this.props.lastReadIndex&&!this.componentReset?this.calculateUnreadCount(this.props.lastReadIndex):0}}]),a}(r.Component),D=(a(250),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.nickname,a=e.participantType,n=y()("nab-gc-TypingIndicator",{"nab-gc-TypingIndicator-bot":a===s.j.VIRTUAL_ASSISTANT,"nab-gc-TypingIndicator-agent":a===s.j.LIVE_AGENT});return r.createElement("div",{className:n,id:"TypingIndicator"},r.createElement(h,{message:t+" is typing."}),r.createElement(z,{pinchTopLeft:!0},r.createElement("div",{className:"nab-gc-TypingIndicator-dots"}),r.createElement("div",{className:"nab-gc-TypingIndicator-dots"}),r.createElement("div",{className:"nab-gc-TypingIndicator-dots"})))}}]),a}(r.Component)),R=(a(251),function(e){return(e<10?"0":"")+e}),_=function(e){return R(e.getHours()%12||12)},U=function(e){return R(e.getMinutes())},H=function(e){return _(e)+":"+U(e)+function(e){return e.getHours()<12?"am":"pm"}(e)};!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(n||(n={}));var P=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dateTime,a=e.author,c=e.showAuthor,s=e.align,i=y()("nab-gc-MessageStamp",{"nab-gc-MessageStamp--left":s===n.LEFT,"nab-gc-MessageStamp--right":s===n.RIGHT}),o=H(new Date(t));return r.createElement("div",{className:i},c&&a&&r.createElement("p",{"aria-hidden":"true",className:"nab-gc-MessageStamp-author"},a," -"),"\xa0",r.createElement("time",{dateTime:t},o))}}]),a}(r.Component),W=(a(252),["pinchTopLeft","pinchTopRight","pinchBottomLeft","pinchBottomRight","clientMessage","otherMessage","systemMessage","participantJoined","proactiveMessage","flexGrow"]),z=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pinchTopLeft,a=e.pinchTopRight,n=e.pinchBottomLeft,c=e.pinchBottomRight,s=e.clientMessage,i=e.otherMessage,o=e.systemMessage,l=e.participantJoined,u=e.proactiveMessage,m=e.flexGrow,d=Object(E.a)(e,W),g=y()("nab-gc-Bubble",{"nab-gc-pinch-top-left":t,"nab-gc-pinch-top-right":a,"nab-gc-pinch-bottom-left":n,"nab-gc-pinch-bottom-right":c,"nab-gc-Bubble-clientMessage":s,"nab-gc-Bubble-otherMessage":i,"nab-gc-Bubble-systemMessage":o,"nab-gc-Bubble-participantJoined":l,"nab-gc-Bubble-proactiveMessage":u,"nab-gc-Bubble-flex":m});return r.createElement("div",Object.assign({className:g},d))}}]),a}(r.Component),Z=(a(253),["children","variant","size","className","title","tooltipPosition","type","width","tabIndex","onClick","onFocus","disabled","isLoading"]),G=c.a.forwardRef((function(e,t){var a=e.children,n=e.variant,r=void 0===n?"primary":n,s=e.size,i=void 0===s?"medium":s,o=e.className,l=void 0===o?"":o,u=e.title,m=void 0===u?"":u,d=e.tooltipPosition,g=void 0===d?"bottom center":d,h=e.type,f=void 0===h?"button":h,b=e.width,p=void 0===b?"full":b,v=e.tabIndex,C=void 0===v?0:v,y=e.onClick,k=void 0===y?function(){}:y,N=e.onFocus,M=void 0===N?function(){}:N,w=e.disabled,T=void 0!==w&&w,x=e.isLoading,O=void 0!==x&&x,L=Object(E.a)(e,Z),F=t||c.a.createRef(),I=m?"tooltip-".concat(m.split(" ").join("-")):"";return c.a.createElement("button",Object.assign({ref:F,tabIndex:C,type:f,className:"nab-gc-button ".concat(r," ").concat(i," ").concat("width_"+p," ").concat(l),onClick:function(e){return!O&&k(e)},"aria-describedby":I,onFocus:function(e){return M(e)}},L,{disabled:T}),c.a.createElement("div",{className:"button-content"},a),m&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:I,className:"button-tooltip ".concat(g),role:"tooltip"},m),c.a.createElement("div",{className:"button-tooltip-arrow ".concat(g)})))})),K=(a(254),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<12;t++){var a={WebkitAnimationDelay:"",animationDelay:"",WebkitTransform:"",transform:""};a.WebkitAnimationDelay=a.animationDelay=(t-12)/10+"s",a.WebkitTransform=a.transform="rotate("+30*t+".01deg) translate(146%)",e.push(r.createElement("div",{style:a,className:"react-spinner_bar",key:t}))}return r.createElement("div",{className:"react-spinner"},e)}}]),a}(r.Component)),V=function(){return r.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"},r.createElement("path",{d:"M9,18 C4.037,18 0,13.962 0,9 C0,4.037 4.037,0 9,0 C13.962,0 18,4.037 18,9 C18,13.962\n\t\t13.962,18 9,18 Z M9,1.38 C4.799,1.38 1.38,4.799 1.38,9 C1.38,13.2\n\t\t4.799,16.619 9,16.619 C13.2,16.619 16.619,13.2 16.619,9 C16.619,4.799 13.2,1.38\n\t\t9,1.38 Z M4.76,8.886 L7.199,11.378 L13.237,5.155 C13.501,4.884 13.931,4.881\n\t\t14.197,5.149 C14.464,5.416 14.467,5.854 14.204,6.125 L7.684,12.844 C7.419,13.117\n\t\t6.986,13.118 6.72,12.846 L3.797,9.86 C3.533,9.59 3.534,9.152 3.799,8.883\n\t\tC4.065,8.614 4.495,8.615 4.76,8.886 ZM9,18 C4.037,18 0,13.962 0,9 C0,4.037 4.037,0 9,0 C13.962,0 18,4.037 18,9 C18,13.962\n\t\t13.962,18 9,18 Z M9,1.38 C4.799,1.38 1.38,4.799 1.38,9 C1.38,13.2\n\t\t4.799,16.619 9,16.619 C13.2,16.619 16.619,13.2 16.619,9 C16.619,4.799 13.2,1.38\n\t\t9,1.38 Z M4.76,8.886 L7.199,11.378 L13.237,5.155 C13.501,4.884 13.931,4.881\n\t\t14.197,5.149 C14.464,5.416 14.467,5.854 14.204,6.125 L7.684,12.844 C7.419,13.117\n\t\t6.986,13.118 6.72,12.846 L3.797,9.86 C3.533,9.59 3.534,9.152 3.799,8.883\n\t\tC4.065,8.614 4.495,8.615 4.76,8.886 Z"}))},q=(a(255),function(){return r.createElement("svg",{focusable:"false","aria-hidden":"true",className:"nab-gc-IconCross-shape",width:"24px",height:"24px",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"m15.675 15.573 28.913 28.913m0.53121-29.065-29.596 29.596",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}))}),Y=function(){return r.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"},r.createElement("path",{d:"M9,18 C4.037,18 0,13.962 0,9 C0,4.037 4.037,0 9,0 C13.962,0 18,4.037 18,9 C18,13.962\n\t\t13.962,18 9,18 Z M9,1.38 C4.799,1.38 1.38,4.799 1.38,9 C1.38,13.2\n\t\t4.799,16.619 9,16.619 C13.2,16.619 16.619,13.2 16.619,9 C16.619,4.799\n\t\t13.2,1.38 9,1.38 Z M9,11.076 C8.568,11.076 8.22,10.714 8.22,10.269 L8.22,4.418\n\t\tC8.22,3.973 8.568,3.611 9,3.611 C9.431,3.611 9.78,3.973 9.78,4.418 L9.78,10.269\n\t\tC9.78,10.714 9.431,11.076 9,11.076 Z M8.994,14.291 C8.787,14.291 8.597,14.201\n\t\t8.446,14.051 C8.295,13.89 8.22,13.679 8.22,13.458 C8.22,13.237 8.304,13.026\n\t\t8.446,12.875 C8.739,12.564 9.25,12.564 9.543,12.875 C9.695,13.026 9.78,13.247\n\t\t9.78,13.458 C9.78,13.679 9.695,13.89 9.543,14.051 C9.402,14.201 9.212,14.291\n\t\t8.994,14.291 Z"}))},J=function(){return r.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"},r.createElement("path",{d:"M9,0 C13.962,0 18,4.037 18,9 C18,13.962 13.962,18 9,18 C4.037,18 0,13.962 0,9 C0,4.037\n\t\t4.037,0 9,0 Z M9,16.619 C13.2,16.619 16.619,13.2 16.619,9 C16.619,4.799 13.2,1.38\n\t\t9,1.38 C4.799,1.38 1.38,4.799 1.38,9 C1.38,13.2 4.799,16.619 9,16.619\n\t\tZ M8.939,7.281 C9.395,7.281 9.764,7.633 9.764,8.067 L9.764,13.776 C9.764,14.21\n\t\t9.395,14.562 8.939,14.562 C8.483,14.562 8.114,14.21 8.114,13.776 L8.114,8.067\n\t\tC8.114,7.633 8.483,7.281 8.939,7.281 Z M9.764,8.106 C9.764,8.562 9.412,8.931\n\t\t8.978,8.931 L7.786,8.931 C7.352,8.931 7,8.562 7,8.106 C7,7.65 7.352,7.281\n\t\t7.786,7.281 L8.978,7.281 C9.412,7.281 9.764,7.65 9.764,8.106 Z M8.994,3.594\n\t\tC9.225,3.594 9.425,3.685 9.574,3.835 C9.735,3.996 9.825,4.207 9.825,4.428 C9.825,4.639\n\t\t9.735,4.86 9.574,5.011 C9.265,5.322 8.724,5.322 8.414,5.011 C8.264,4.86\n\t\t8.175,4.649 8.175,4.428 C8.175,4.207 8.255,3.996 8.414,3.835 C8.574,3.685 8.774,3.594\n\t\t8.994,3.594 Z"}))},Q=function(){return r.createElement("svg",{viewBox:"0 5 21.825 21.825","aria-hidden":"true",width:"19px",height:"19px",style:{transform:"translateY(6px) scale(0.85)"}},r.createElement("path",{d:"M16.791,13.254c0.444-0.444,1.143-0.444,1.587,0c0.429,0.444,0.429,1.143,0,1.587l-6.65,6.651\n\t\t\tc-0.206,0.206-0.492,0.333-0.809,0.333c-0.317,0-0.603-0.127-0.81-0.333l-6.65-6.651c-0.444-0.444-0.444-1.143,0-1.587\n\t\t\ts1.143-0.444,1.587,0l4.746,4.762V1.111C9.791,0.492,10.299,0,10.918,0c0.619,0,1.111,0.492,1.111,1.111v16.904L16.791,13.254z"}))},X=(a(256),function(e){var t=e.size,a=e.animated;return r.createElement("svg",{focusable:"false","aria-hidden":"true",className:"nab-gc-IconBell-shape"+(a?" nab-gc-IconBell-shape-animation":""),width:"512px",height:"512px",viewBox:"0 0 512 512",style:{height:t,width:t},xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:"nab-gc-IconBell-bell",d:"M381.7,225.9c0-97.6-52.5-130.8-101.6-138.2c0-0.5,0.1-1,0.1-1.6c0-12.3-10.9-22.1-24.2-22.1c-13.3,0-23.8,9.8-23.8,22.1    c0,0.6,0,1.1,0.1,1.6c-49.2,7.5-102,40.8-102,138.4c0,113.8-28.3,126-66.3,158h384C410.2,352,381.7,339.7,381.7,225.9z"}),r.createElement("path",{className:"nab-gc-IconBell-hammer",d:"M256.2,448c26.8,0,48.8-19.9,51.7-43H204.5C207.3,428.1,229.4,448,256.2,448z"}))}),$=a(305),ee=(a(257),a(25)),te=a(15),ae=["children","variant","className","href","tabIndex","disabled","onClick","onFocus"],ne=c.a.forwardRef((function(e,t){var a=e.children,n=e.variant,r=void 0===n?"standard":n,s=e.className,i=void 0===s?"":s,o=e.href,l=void 0===o?"#":o,u=e.tabIndex,m=void 0===u?0:u,d=e.disabled,g=void 0!==d&&d,h=e.onClick,f=void 0===h?function(){}:h,b=e.onFocus,p=void 0===b?function(){}:b,v=Object(E.a)(e,ae),C=t||c.a.createRef(),y=ee.a.isAnExternalLink(l)&&!Object(te.e)(l);return c.a.createElement(c.a.Fragment,null,g?c.a.createElement("span",{ref:C,className:"nab-gc-link nab-gc-link-".concat(r," ").concat(i," nab-gc-link-disabled")},c.a.createElement("div",{className:"link-content"},a),y&&c.a.createElement($.a,{size:"sm"})):c.a.createElement("a",Object.assign({ref:C,target:y?"_blank":void 0,rel:y?"noopener noreferrer":void 0,href:l,tabIndex:m,className:"nab-gc-link nab-gc-link-".concat(r," ").concat(i),onClick:function(e){return f(e)},onFocus:function(e){return p(e)}},v),c.a.createElement("div",{className:"link-content"},a),y&&c.a.createElement(c.a.Fragment,null,c.a.createElement($.a,{size:"sm"}),c.a.createElement("span",{className:"nab-gc-a11y-visually-hidden"}," opens in a new window"))))})),re=(a(266),function(){return r.createElement("div",{className:"nab-gc-QueueDots-container"},r.createElement("div",{className:"nab-gc-QueueDots"}))}),ce=function(){return r.createElement("svg",{viewBox:"0 0 24 24",version:"1.1",width:"24",height:"24"},r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round"},r.createElement("g",{id:"Send-Outline",transform:"translate(-4.000000, -6.000000)",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5"},r.createElement("g",{id:"Group-2"},r.createElement("g",{id:"Group",transform:"translate(19.000000, 15.000000) rotate(45.000000) translate(-19.000000, -15.000000) translate(9.000000, 4.000000)"},r.createElement("path",{d:"M10.4551832,1.00140313 L19.5863642,21.0900013 C19.7006328,21.3413921 19.5894732,21.6378175 19.3380825,21.752086 C19.2396447,21.7968305 19.1293545,21.808458 19.0237501,21.785225 L10.1074309, 19.8236348 C10.0366565,19.8080644 9.96334345,19.8080644 9.89256911,19.8236348 L0.976249895,21.785225 C0.706556972,21.8445575 0.439829213,21.6740266 0.38049677,21.4043337 C0.357263808, 21.2987293 0.368891334,21.1884391 0.413635765,21.0900013 L9.54481676,1.00140313 C9.65908529,0.750012364 9.95551071,0.638852831 10.2069015,0.753121359 C10.3169554,0.803145881 10.4051587, 0.891349176 10.4551832,1.00140313 Z",id:"Rectangle-2",fill:"#FFFFFF"}),r.createElement("path",{d:"M10,20.45 L10,12.65",id:"Line"}))))))},se=function(){return r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24"},r.createElement("path",{fill:"#c20000",d:"M12 2c2.559 0 5.118.977 7.07 2.929 3.907 3.905 3.907 10.237 0\n\t\t\t14.142A9.968 9.968 0 0 1 12 22a9.965 9.965 0 0 1-7.071-2.929c-3.905\n\t\t\t-3.905-3.905-10.237 0-14.142A9.969 9.969 0 0 1 11.999 2zm0 12.246a\n\t\t\t.9.9 0 0 0 .9-.9V7.335a.9.9 0 1 0-1.8 0v6.011a.9.9 0 0 0 .9.9zm.002\n\t\t\t3.781c.084 0 .171-.008.255-.026a1.65 1.65 0 0 0 .246-.075 1.402\n\t\t\t1.402 0 0 0 .433-.286 1.503 1.503 0 0 0 .286-.433 1.81 1.81 0 0 0\n\t\t\t.075-.246c.017-.084.021-.171.021-.255 0-.352-.141-.691-.382-.939a\n\t\t\t1.503 1.503 0 0 0-.432-.286 1.515 1.515 0 0 0-.247-.075 1.341 1.341\n\t\t\t0 0 0-1.189.361 1.343 1.343 0 0 0-.366 1.194c\n\t\t\t.019.084.045.168.08.246.03.08.07.16.119.23a1.339 1.339 0 0 0\n\t\t\t1.101.59z"}))},ie=(a(267),"M50.1575473,40.890568 L50.9018553,49.8222641 C50.9477201,\n50.3726411 50.5387321,50.8559906 49.9883551,50.9018553 C49.9330872,50.906461\n49.877532,50.906461 49.8222641,50.9018553 L40.890568,50.1575473 C36.8322514,\n52.5970808 32.0799604,54 27,54 C12.0883118,54 0,41.9116882 0,27 C0,12.0883118\n12.0883118,0 27,0 C41.9116882,0 54,12.0883118 54,27 C54,32.0799604 52.5970808,\n36.8322514 50.1575473,40.890568 Z"),oe=function(e){return r.createElement("div",null,r.createElement("svg",{focusable:"false","aria-hidden":"true"},r.createElement("defs",null,r.createElement("filter",{id:"nab-gc-FABIcon-filter",x:"-18.5%",y:"-14.8%",width:"137.0%",height:"137.0%",filterUnits:"objectBoundingBox"},r.createElement("feOffset",{dx:"0",dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:"3",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.25 0",type:"matrix",in:"shadowBlurOuter1"})),r.createElement("filter",{id:"nab-gc-FABIcon-circle-filter",x:"-18.5%",y:"-14.8%",width:"137.0%",height:"137.0%",filterUnits:"objectBoundingBox"},r.createElement("feGaussianBlur",{stdDeviation:"1.2",in:"Source"})))),r.createElement("svg",{width:"66",height:"66",viewBox:"0 0 66 66","aria-hidden":"true",focusable:"false",style:{position:"absolute",top:0,left:0},className:"nab-gc-FABIcon-shadow"},r.createElement("title",null,"FAB Shadow"),r.createElement("g",{transform:"translate(4, 4)"},r.createElement("path",{fill:"black",fillOpacity:"1",filter:"url(#nab-gc-FABIcon-filter)",d:ie}))),r.createElement("svg",{width:"66",height:"66",viewBox:"0 0 66 66","aria-hidden":"true",focusable:"false",style:{position:"absolute",top:0,left:0},className:"nab-gc-FABIcon-circle1"+(e.withHeartbeat?" with-heartbeat":"")},r.createElement("title",null,"Chat Circle 1"),r.createElement("g",{transform:"translate(4, 4)"},r.createElement("circle",{cx:"26.7",cy:"26.8",r:"31"}))),r.createElement("svg",{width:"66",height:"66",viewBox:"0 0 66 66","aria-hidden":"true",focusable:"false",style:{position:"absolute",top:0,left:0},className:"nab-gc-FABIcon-circle2"+(e.withHeartbeat?" with-heartbeat":"")},r.createElement("title",null,"Chat Circle 2"),r.createElement("g",{transform:"translate(4, 4)"},r.createElement("circle",{cx:"26.7",cy:"26.8",r:"31"}))),r.createElement("svg",{width:"66",height:"66",viewBox:"0 0 66 66","aria-hidden":"true",focusable:"false",style:{position:"absolute",top:0,left:0},className:"nab-gc-FABIcon-path"},r.createElement("title",null,"Chat Title"),r.createElement("g",{transform:"translate(4, 4)"},r.createElement("path",{className:"nab-gc-FABIcon-fill",d:ie}),r.createElement("g",{className:"nab-gc-FABIcon-text",transform:"translate(-1, 0)"},r.createElement("path",{d:"M17.048,32.192 C18.344,32.192 19.496,31.664 20.36,30.656 L19.064,29.232 C18.552,29.792 17.944,30.16 17.08,30.16 C15.56,30.16 14.552,28.912 14.552,26.768 C14.552,24.672 15.688,23.408 17.144,23.408 C17.88,23.408 18.376,23.712 18.904,24.192 L20.2,22.736 C19.496,22.016 18.408,21.376 17.112,21.376 C14.424,21.376 12.136,23.392 12.136,26.848 C12.136,30.352 14.344,32.192 17.048,32.192 Z M23.608,32 L23.608,26.64 C24.12,26.144 24.488,25.872 25.08,25.872 C25.752,25.872 26.056,26.224 26.056,27.376 L26.056,32 L28.408,32 L28.408,27.072 C28.408,25.088 27.672,23.872 25.944,23.872 C24.872,23.872 24.088,24.432 23.496,24.96 L23.608,23.536 L23.608,20.784 L21.256,20.784 L21.256,32 L23.608,32 Z M31.976,32.192 C32.872,32.192 33.624,31.776 34.296,31.184 L34.344,31.184 L34.52,32 L36.44,32 L36.44,27.456 C36.44,25.024 35.32,23.872 33.288,23.872 C32.04,23.872 30.904,24.304 29.896,24.912 L30.728,26.464 C31.496,26.016 32.168,25.744 32.84,25.744 C33.688,25.744 34.04,26.192 34.088,26.896 C30.952,27.216 29.624,28.128 29.624,29.792 C29.624,31.136 30.536,32.192 31.976,32.192 Z M32.776,30.368 C32.216,30.368 31.864,30.128 31.864,29.616 C31.864,29.008 32.408,28.528 34.088,28.304 L34.088,29.696 C33.672,30.112 33.32,30.368 32.776,30.368 Z M41.032,32.192 C41.8,32.192 42.376,32.032 42.792,31.904 L42.424,30.192 C42.216,30.272 41.928,30.352 41.672,30.352 C41.048,30.352 40.648,29.984 40.648,29.088 L40.648,25.904 L42.552,25.904 L42.552,24.064 L40.648,24.064 L40.648,21.952 L38.696,21.952 L38.424,24.064 L37.208,24.16 L37.208,25.904 L38.296,25.904 L38.296,29.12 C38.296,30.96 39.064,32.192 41.032,32.192 Z"})))))},le=(a(268),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props.message;t.deliveryStatus===s.f.FAILED&&e.context.chatController.resendMessage(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.message,t=e.deliveryStatus,a=e.content,c=e.dateTime,i=e.index,o=this.context.chat,l="At "+H(new Date(c))+" you wrote, "+a+". ";return this.props.showMessageHeader||(l="You wrote "+a+". "),r.createElement("div",{className:"nab-gc-MessageUser"},t===s.f.SENDING&&r.createElement("div",{className:"nab-gc-Spinner-container"},r.createElement(K,null)),r.createElement("div",Object.assign({},t===s.f.SENDING&&{"aria-hidden":!0},{className:"nab-gc-MessageUser-bubble-container",onClick:this.onClick}),this.props.showMessageHeader?r.createElement(P,{dateTime:c,align:n.RIGHT,showAuthor:!0,author:"You"}):null,r.createElement(h,{message:l,index:i}),r.createElement("div",{className:"nab-gc-a11y-visually-hidden"},r.createElement("p",null,"You wrote")),r.createElement(z,{pinchTopRight:!0,clientMessage:!0},r.createElement("p",{lang:"en",className:"nab-gc-MessageUser-body"},ee.a.insertSoftBreaksForProblemBrowsers(a))),r.createElement(lt,{deliveryStatus:t,chatStatus:o.status,index:i})))}}]),a}(r.Component));le.contextType=i.a;a(269);var ue=a(26),me=a.n(ue),de=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).clickLink=function(t){e.context.chatController.clickLink(t)},e.handleLink=function(t,a){e.clickLink(a),t.preventDefault()},e}return Object(l.a)(a,[{key:"renderButtons",value:function(e){var t=this;return e?r.createElement("ul",null,e.map((function(e,a){var n=t.props.message,c=(n.actionStatus===s.b.ACTIONED||n.actionStatus===s.b.DISABLED||n.actionStatus===s.b.FAILED)&&e.type!==s.d.WEB_URL,i=!!e.selected&&n.actionStatus===s.b.BEING_ACTIONED&&e.type!==s.d.WEB_URL;return r.createElement("li",{key:a,className:"nab-gc-ButtonContainer"},r.createElement(Me,{message:n,chatbotButton:e,disabled:c,selected:e.selected,isLoading:i}))}))):null}},{key:"bubbleContent",value:function(e,t,a){var n=this;if(t&&e===s.e.URL){var c=this.context.chat,i=Object(te.e)(t)&&c.status!==s.c.ACTIVE,o=Object(te.e)(t)?"":t,l=Object(te.d)(t)[te.a];return r.createElement("div",{lang:"en",className:"nab-gc-MessageOther-body"},r.createElement(ne,{href:o,onClick:function(e){return n.handleLink(e,t)},disabled:i},l||t))}return t&&e===s.e.HTML?r.createElement(r.Fragment,null,r.createElement("p",{lang:"en",className:"nab-gc-MessageOther-body"+(a?" nab-gc-MessageOther-body-with-buttons":""),dangerouslySetInnerHTML:{__html:t}}),this.renderButtons(a)):r.createElement(r.Fragment,null,r.createElement("p",{lang:"en",className:"nab-gc-MessageOther-body"+(a?" nab-gc-MessageOther-body-with-buttons":"")},t),this.renderButtons(a))}},{key:"render",value:function(){var e=this,t=this.props.message,a=t.content,c=t.suggestions,s=t.dateTime,i=t.from,l=t.contentType,u=t.buttons,m=t.index,d=me.a.sanitize(a+this.getButtonsText(u)+this.getSuggestionsText(c),{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),g=d;return this.props.showMessageHeader&&(g="At "+H(new Date(s))+" "+i.nickname+" wrote "+d),r.createElement("div",null,this.props.showMessageHeader?r.createElement(P,{dateTime:s,align:n.LEFT,author:i.nickname,showAuthor:!0}):null,r.createElement(o.b,null,(function(t){return r.createElement("div",{className:"nab-gc-MessageOther"},e.props.showMessageHeader?r.createElement("div",{className:"nab-gc-MessageOther-logo"},r.createElement("img",{alt:"",src:t.logos[i.participantType]})):null,r.createElement("div",{className:"nab-gc-MessageOther-bubble-container"},r.createElement(h,{message:g,index:m}),r.createElement("div",{className:"nab-gc-a11y-visually-hidden"},r.createElement("p",null,i.nickname+" wrote ")),r.createElement(z,{pinchTopLeft:!0,otherMessage:!0},e.bubbleContent(l,a,u))))})))}},{key:"getSuggestionsText",value:function(e){return e?" "+e.map((function(e){return'Option: "'.concat(e.text,'"')})).join(", "):""}},{key:"getButtonsText",value:function(e){return e?" "+e.map((function(e){return'Button: "'.concat(e.title,'"')})).join(", "):""}}]),a}(r.Component);de.contextType=i.a;var ge=a(24),he=a(306),fe=function(e){switch(e){case"carousel":default:return I.a}},be=(a(270),function(e){var t=e.src,a=void 0===t?"":t,n=e.alt,s=void 0===n?"":n,i=e.className,o=void 0===i?"":i,l=e.type,u=void 0===l?"carousel":l,m=Object(r.useState)(!0),d=Object(ge.a)(m,2),g=d[0],h=d[1],f=Object(r.useState)(!1),b=Object(ge.a)(f,2),p=b[0],v=b[1],E=Object(r.useState)(!1),C=Object(ge.a)(E,2),y=C[0],k=C[1],N=Object(r.useState)(0),M=Object(ge.a)(N,2),w=M[0],T=M[1],x=function(e){e&&T(function(e){var t=e&&e.naturalWidth?e.naturalWidth:0,a=e&&e.naturalHeight?e.naturalHeight:0;return t&&a?Number((t/a).toFixed(2)):0}(e.currentTarget)),v(!1),k(!0),setTimeout((function(){h(!1)}),300)};return c.a.createElement("div",{className:"nab-gc-image ".concat(u," ").concat(o)},p&&c.a.createElement("div",{className:"nab-gc-image__fallback"},c.a.createElement(he.a,{size:"lg"})),g&&c.a.createElement("div",{className:"nab-gc-image__placeholder ".concat(y?"fade-out":"fade-in")}),(g||y)&&c.a.createElement("img",{src:a,className:"nab-gc-image__main ".concat(y?"fade-in":"fade-out"," ").concat(w>fe(u)?"auto-fit-wide":"auto-fit-tall"),alt:s,onError:function(){h(!1),k(!1),v(!0)},onLoad:function(e){return x(e)}}))}),pe=(a(271),function(e){var t=e.message,a=e.card,n=e.active;return c.a.createElement("div",{className:"nab-gc-Carousel-card"},a.imageUrl&&c.a.createElement(be,{src:a.imageUrl,type:"carousel",alt:"",className:"nab-gc-Carousel-card__image"}),c.a.createElement("div",{className:"nab-gc-Carousel-card__title"},a.title),c.a.createElement("div",{className:"nab-gc-Carousel-card__text"},a.text),a.buttons&&c.a.createElement("div",{className:"nab-gc-Carousel-card__buttons"},a.buttons.map((function(e,a){var r=(t.actionStatus===s.b.ACTIONED||t.actionStatus===s.b.DISABLED||t.actionStatus===s.b.FAILED)&&e.type!==s.d.WEB_URL,i=!!e.selected&&t.actionStatus===s.b.BEING_ACTIONED&&e.type!==s.d.WEB_URL;return c.a.createElement(Me,{message:t,disabled:r,isLoading:i,selected:e.selected,tabIndex:n?0:-1,chatbotButton:e,key:a})}))))}),ve=(a(272),function(e){var t=e.message,a=Object(r.useRef)(void 0),n=Object(r.useState)(0),s=Object(ge.a)(n,2),i=s[0],o=s[1],l=function(e){var t=getComputedStyle(e,null);return e.clientWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight)},u=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;if(a.current){for(var r=a.current.children,c=0,s=Math.min(Math.max(1,e+1),r.length-2);c<s;c++)n+=l(r[c]);a.current.scrollLeft=n+l(r[s])/2-a.current.clientWidth/2,t&&(a.current.children[s].tabIndex=0,a.current.children[s].focus(),a.current.children[s].tabIndex=-1)}}),[]),m=function(){return a.current?a.current.clientWidth/2-a.current.children[1].clientWidth/2+"px":"5rem"};Object(r.useEffect)((function(){setTimeout((function(){return u(0)}),0)}),[]);var d=t.carouselCards[i].title,g="Card ".concat(i+1," of ").concat(t.carouselCards.length," displayed. ").concat(d||""," ");return 1===t.carouselCards.length?c.a.createElement("div",{className:"nab-gc-SingleCardContainer"},c.a.createElement(h,{message:"Card. ".concat(d||"",". "),index:t.index}),c.a.createElement(pe,{message:t,card:t.carouselCards[0]})):c.a.createElement("span",{className:"nab-gc-CarouselMessage",onKeyDown:function(e){"ArrowLeft"===e.key&&(e.preventDefault(),u(i-1,!0)),"ArrowRight"===e.key&&(e.preventDefault(),u(i+1,!0))}},c.a.createElement(h,{message:g,index:t.index}),c.a.createElement("ol",{className:"nab-gc-Carousel",ref:a,onScroll:function(){o(function(){var e=0;if(a.current)for(var t=a.current.scrollLeft+a.current.clientWidth/2,n=a.current.children,r=0;r<n.length;r++)if((e+=l(n[r]))>=t)return Math.max(0,r-1);return 0}())}},c.a.createElement("span",{style:{minWidth:m()}}),t.carouselCards.map((function(e,a){return c.a.createElement("li",{key:a,className:"nab-gc-CarouselCardContainer","aria-label":"Card ".concat(a+1," of ").concat(t.carouselCards.length,". ").concat(e.title?e.title:"")},c.a.createElement(pe,{message:t,card:e,active:i===a}))})),c.a.createElement("span",{style:{minWidth:m()}})),c.a.createElement("div",{className:"nab-gc-Carousel-NavBar"},c.a.createElement(O,{className:"nab-gc-Carousel-NavBar-Nav-Button-Container",show:0!==i},c.a.createElement(G,{className:"nab-gc-Carousel-NavBar-Nav-Button",variant:"transparent",onClick:function(){return u(i-1)}},c.a.createElement(x,{rotation:180})," Back")),c.a.createElement("div",{className:"nab-gc-Carousel-NavBar-Counter"},c.a.createElement("span",{className:"nab-gc-Carousel-NavBar-Counter-Current"},i+1),"\xa0of"," ",t.carouselCards.length),c.a.createElement(O,{className:"nab-gc-Carousel-NavBar-Nav-Button-Container",show:i!==t.carouselCards.length-1},c.a.createElement(G,{className:"nab-gc-Carousel-NavBar-Nav-Button",variant:"transparent",onClick:function(){return u(i+1)}},"Next ",c.a.createElement(x,{rotation:0})))))}),Ee=a(46),Ce=a(47),ye=(a(273),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={numberOfRows:1,chatTextLength:0},n.chatTextArea=void 0,n.isTyping=!1,n.typingSubject=void 0,n.didUpdate=!1,n.mobileAutofocusTimeout=void 0,n.handleChange=function(e){var t=I.o;e=e.replace(/[\n\r\t]/g," ").replace(/[\u2018\u2019\u0060\u00B4]/g,"'").replace(/["\u201C\u201D]/g,"'");var a=!t.test(e);n.props.onInvalidCharacters(a),!n.isTyping&&n.didUpdate&&(n.props.onStartTyping(),n.isTyping=!0),n.props.onChange(e),n.typingSubject.next(),n.updateTextAreaHeight()},n.updateTextAreaHeight=function(){var e=n.chatTextArea,t=0,a=0,r=0;e&&(t=e.clientHeight,a=e.scrollHeight,r=e.value.length),a>t&&a<I.t&&1===n.state.numberOfRows?n.setState((function(){return{numberOfRows:2,chatTextLength:r}})):r<n.state.chatTextLength&&a>I.u&&n.setState((function(){return{numberOfRows:1}}))},n.handleKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.props.onEnter())},n.handleIdle=function(){n.isTyping=!1,n.props.onStopTyping()},n.typingSubject=new Ee.Subject,n.typingSubject.pipe(Object(Ce.debounceTime)(e.debounceTime)).subscribe((function(){return n.handleIdle()})),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(ee.a.isIPhone()){this.focusAndOpenKeyboard(this.chatTextArea,500)}}},{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value&&!this.didUpdate&&!this.isTyping){var t=this.props.value;this.handleChange(t)}this.didUpdate=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.mobileAutofocusTimeout)}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.onBlur;return r.createElement(o.b,null,(function(t){return r.createElement("textarea",{className:"nab-gc-ChatInputBox",onChange:function(t){return e.handleChange(t.currentTarget.value)},onBlur:n,onKeyDown:e.handleKeyDown,value:a,id:"chatInputText",autoFocus:!0,tabIndex:0,ref:function(t){return e.chatTextArea=t},"aria-label":t.content.footerText,"aria-describedby":"nab-gc-ChatInput-errorMessage",rows:a?e.state.numberOfRows:1})}))}},{key:"focusAndOpenKeyboard",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(e){var n=document.createElement("input");n.style.position="absolute",n.style.top=e.offsetTop+"px",n.style.left=e.offsetLeft+"px",n.style.height="0",n.style.opacity="0",this.chatTextArea.after(n),n.focus(),this.mobileAutofocusTimeout=setTimeout((function(){e.focus(),e.click(),t.chatTextArea.parentElement.removeChild(n)}),a)}}},{key:"getFocus",value:function(){F.a.getInstance().setRetryFocus(this.chatTextArea.parentElement,F.a.CHAT_INPUT)}}]),a}(r.Component)),ke=a(274),Ne=(a(275),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={message:"",sendEnabled:!1,showMessageLengthWarning:!1,showMessageLengthError:!1,showEmptyMessageError:!1,displayedMessageLength:0,hasInvalidCharacters:!1,emptyMessageSent:!1,errorMessage:""},e.chatInputBox=void 0,e.onStartTyping=function(){e.context.chatController.clientTypingStart()},e.onStopTyping=function(){e.context.chatController.clientTypingStop()},e.errorMessage=function(){return e.state.showEmptyMessageError?I.m:e.state.showMessageLengthError?I.b:e.state.hasInvalidCharacters?I.v:""},e.ariaErrorMessage=function(){return e.state.showMessageLengthError?Object(ke.a)(I.c,{chars:e.state.message.length}):e.errorMessage()},e.changeMessage=function(t){var a=t.length>0,n=Math.min(t.length,I.D),r=t.length>=I.E-1,c=t.length>I.C,s=e.state.showEmptyMessageError&&0===t.length;e.setState((function(){return{message:t,sendEnabled:a,displayedMessageLength:n,showMessageLengthWarning:r,showMessageLengthError:c,showEmptyMessageError:s}}))},e.submitMessage=function(){var t=e.state.message,a=e.context.chatController;t&&0!==t.replace(/\s/g,"").length?e.errorMessage()?(e.chatInputBox.getFocus(),a.getAnalyticsLogger().logEvent("InvalidChatInput")):(a.sendMessage(t),e.changeMessage(""),a.updateChatInputMessage("")):(e.setState({showEmptyMessageError:!0}),e.chatInputBox.getFocus())},e.handleBlur=function(){e.context.chatController.updateChatInputMessage(e.state.message)},e.onInvalidCharacters=function(t){e.setState((function(){return{hasInvalidCharacters:t}}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.chat.chatInputMessage,t=void 0===e?"":e;this.setState({message:t})}},{key:"render",value:function(){var e=this,t=y()("nab-gc-ChatInput",{"nab-gc-ChatInput-error":this.state.showMessageLengthError||this.state.hasInvalidCharacters,"nab-gc-ChatInput-warning":this.state.showMessageLengthWarning,"send-enabled":this.state.sendEnabled}),a=y()("nab-gc-ChatTextarea-validationBox",{"nab-gc-ChatTextarea-validationBox-show":this.state.showMessageLengthWarning||""!==this.errorMessage()}),n=y()("nab-gc-ChatTextarea-validationError",{"nab-gc-ChatTextarea-validationError-show":""!==this.errorMessage()}),c=y()("nab-gc-ChatTextarea-messageLengthBox",{"nab-gc-ChatTextarea-messageLengthBox-show":this.state.showMessageLengthWarning||this.state.showMessageLengthError,"nab-gc-ChatTextarea-messageLengthBox-error":this.state.showMessageLengthError,"nab-gc-ChatTextarea-messageLengthBox-show-fadeIn":this.state.displayedMessageLength>=I.E,"nab-gc-ChatTextarea-messageLengthBox-show-fadeOut":this.state.displayedMessageLength<I.E});return r.createElement("div",{className:t},r.createElement(o.b,null,(function(t){return r.createElement(r.Fragment,null,r.createElement(ye,{value:e.state.message,debounceTime:I.k,onChange:e.changeMessage,onEnter:e.submitMessage,onBlur:e.handleBlur,onStartTyping:e.onStartTyping,onStopTyping:e.onStopTyping,onInvalidCharacters:e.onInvalidCharacters,ref:function(t){return e.chatInputBox=t}}),r.createElement("label",{htmlFor:"chatInputText",className:"chatInputTextLabel"},"How can I help you?"),r.createElement(G,{"aria-label":"Send message",tabIndex:0,variant:"transparent",width:"minimum",type:"button",className:"nab-gc-ChatInput-send-button",onClick:e.submitMessage},r.createElement(ce,null),r.createElement("span",{className:"nab-gc-a11y-skiplink-hidden"},"Send message")),r.createElement("span",{className:a},r.createElement("span",{className:n},r.createElement(se,null),r.createElement("p",{className:"nab-gc-ChatInput-errorMessageText"},e.errorMessage()),r.createElement("span",{className:"nab-gc-a11y-skiplink-hidden",id:"nab-gc-ChatInput-errorMessage"},e.ariaErrorMessage())),r.createElement("span",{className:c},r.createElement("strong",null,e.state.displayedMessageLength)," /"," ",I.C)))})))}}]),a}(r.Component));Ne.contextType=i.a;a(276);var Me=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).onClickButton=function(){var t=e.props,a=t.chatbotButton,n=t.message;e.context.chatController.clickChatbotButton(n,a)},e.messageSpinner=function(){return r.createElement("div",{className:"spinnerContainer"},r.createElement("span",{className:"spinnerForeground"},r.createElement("svg",{viewBox:"0 0 78 78"},r.createElement("circle",{cx:"39",cy:"78",r:"35",stroke:"#FF0000",strokeWidth:"10",fillOpacity:"0"}))),r.createElement("span",{className:"spinnerBackground"},r.createElement("svg",{viewBox:"0 0 78 78"},r.createElement("circle",{cx:"39",cy:"39",r:"35",stroke:"#fff",strokeWidth:"10",fillOpacity:"0"}))))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.chatbotButton,a=e.tabIndex,n=e.selected,c=e.disabled,i=e.isLoading;return r.createElement(G,{variant:n?"primary":"secondary",className:"nab-gc-ChatbotButton",onClick:this.onClickButton,tabIndex:a||0,isLoading:i,disabled:c},i?this.messageSpinner():r.createElement(r.Fragment,null,t.title,t.type===s.d.WEB_URL&&r.createElement("span",{className:"nab-gc-ChatbotButton__icon"},r.createElement($.a,{size:"sm"}))))}}]),a}(r.Component);Me.contextType=i.a;var we=a(277),Te=a.n(we),xe=function(e){return c.a.createElement("div",{className:e.menuExpanded&&!e.isChatEnded?e.show?"shown-down":"hidden-down":e.show?"shown-up":"hidden-up","aria-hidden":!e.show},e.title)},Oe=(a(279),a(280)),Le=function(e){var t=r.useRef(null),a=Object(i.e)(),n=a.chat,c=a.chatController,l=a.feedbackFormController,u=Object(o.d)().config,m=n.status===s.c.ENDED||n.status===s.c.UNAVAILABLE,d=Object(r.useState)(!1),g=Object(ge.a)(d,2),h=g[0],f=g[1],b=n.showFeedbackForm,p=n.showFeedbackSummary,v=n.showWelcomeScreen,E=u.content,C=E.headerTitle,k=E.feedbackTitle,N=E.headerHelpTitle,M=E.headerChatEndedTitle,w=y()("nab-gc-ChatPanelHeader-menu-div",{"nab-gc-ChatPanelHeader-cross":h}),T=y()("nab-gc-ChatPanelHeader-menu",{"nab-gc-ChatPanelHeader-menu-expanded":h}),x=y()("nab-gc-ChatPanelHeader",{"nab-gc-ChatPanelHeader-feedback":n.showFeedbackForm}),O=y()("nab-gc-ChatPanelHeader-minimize-button"),L=Object(r.useRef)(void 0);Object(r.useEffect)((function(){void 0===L.current||L.current===s.c.ENDED||n.status!==s.c.ENDED||b||f(!0),L.current=n.status}),[n.status,b]);var F={_createFocusTrap:Oe,active:h,focusTrapOptions:{clickOutsideDeactivates:!0,returnFocusOnDeactivate:!1,initialFocus:function(){return t.current},onDeactivate:function(){f(!1)}}};return r.createElement(Te.a,F,r.createElement("div",null,r.createElement("div",{className:x},r.createElement(G,{id:"nab-gc-minimize-button",className:O,variant:"dark","aria-label":"Minimise chat",title:"Minimise chat",tooltipPosition:"bottom left",onClick:function(){c.minimiseChat()}},r.createElement("span",{className:"nab-gc-ChatPanelHeader-minimize-down-arrow"})),r.createElement("div",{className:"nab-gc-ChatPanelHeader-text-div",id:"nab-gc-header-title",tabIndex:-1},r.createElement(xe,{title:C,show:!b&&!m&&!h,isChatEnded:m,menuExpanded:h}),r.createElement(xe,{title:k,show:b,isChatEnded:m,menuExpanded:h}),r.createElement(xe,{title:M,show:m&&!b,isChatEnded:m,menuExpanded:h}),r.createElement(xe,{title:N,show:h&&!m&&!b,isChatEnded:m,menuExpanded:h})),r.createElement(G,{className:T,variant:"dark",id:"nab-gc-header-menu",onClick:function(){f(!h)},"aria-label":"Menu",title:"Menu","aria-expanded":h,ref:t},r.createElement("div",{className:w},r.createElement("div",null),r.createElement("div",null),r.createElement("div",null)))),r.createElement(Fe,{onClickContinueChat:function(){b&&l.hideFeedbackForm(),f(!1)},onClickExitChat:function(){c.endChat(),c.reset()},onClickFeedBack:function(){l.showFeedbackForm(),f(!1)},menuExpanded:h,showFeedbackForm:b,showWelcomeScreen:v,showFeedbackSummary:p,isChatEnded:m})))},Fe=(a(281),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.menuExpanded!==this.props.menuExpanded&&!this.props.menuExpanded&&this.props.isChatEnded}},{key:"render",value:function(){var e=this.props,t=e.menuExpanded,a=e.isChatEnded,n=e.showFeedbackForm,c=e.showFeedbackSummary,s=e.showWelcomeScreen,i=e.onClickFeedBack,o=e.onClickContinueChat,l=e.onClickExitChat,u=y()("nab-gc-ChatPanelMenu-items-div",{"nab-gc-ChatPanelMenu-items-div-maximized":t}),m=t?0:-1;return r.createElement("div",{className:"nab-gc-ChatPanelMenu"},r.createElement("div",{className:u},r.createElement("ul",{"aria-hidden":!t},!n&&!s&&r.createElement("li",null,r.createElement("button",{className:"nab-gc-ChatPanelMenu-item-button",onClick:i,"aria-hidden":!t,tabIndex:m},r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-text"},a?c?"View Feedback":"Give Feedback":"Give Feedback And Exit"),r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-right-arrow","aria-hidden":"true"}))),!n&&!s&&!a&&r.createElement("li",null,r.createElement("button",{className:"nab-gc-ChatPanelMenu-item-button",onClick:o,"aria-hidden":!t,tabIndex:m},r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-text"},"Continue Chat"),r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-right-arrow","aria-hidden":"true"}))),r.createElement("li",null,r.createElement("button",{className:"nab-gc-ChatPanelMenu-item-button",onClick:l,"aria-hidden":!t,tabIndex:m},r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-text"},"Exit Chat"),r.createElement("span",{className:"nab-gc-ChatPanelMenu-item-right-arrow","aria-hidden":"true"}))))))}}]),a}(r.Component));a(282);function Ie(){return r.createElement("svg",{viewBox:"0 0 360 180",className:"Welcome"},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M134.693803 61.0744412c-8.50874-1.2401343-43.2847837 13.4250479-43.2847837 13.4250479l-18.820784 40.0870229s58.4065537 39.672428 60.9957717 40.780147c2.589219 1.10772 51.422983-18.462295 53.642574-28.432682 1.999097-8.97682-40.980105-44.8877498-49.566613-51.9559677l-2.966165-13.9035681z",className:"left"}),r.createElement("path",{d:"M35.0060001 48.6470588L94.647059 67.8412533 69.7825135 138.647059-8 119.778813l6-83.4787387",className:"highlight"}),r.createElement("path",{d:"M328.815989 30.1176471l-57.56397 21.4519537-73.236533 25.8495634-4.336362-1.5674649c-11.485794-4.6470615-16.825521-5.6230987-26.483366-3.2719014-13.57097 3.305464-68.586392 42.5737241-71.560001 44.5448471-2.972697 1.971123-8.2576951 15.440617 4.625513 16.425725 0 0-.991507 12.811848 12.2219 10.183986 0 0-1.814267 10.358149 11.068941 8.715395 0 0 4.451293 9.07007 15.682597 4.142715l60.402581-21.101814c.864718-.267593 1.672883-.691208 2.383448-1.24998l.211619.282107c7.597298-5.974145 9.652373-7.009144 15.423546-14.743966l71.181459-13.386041.150505-.037191 41.247428-5.0561626-1.419305-71.1817713z",className:"right"}),r.createElement("path",{d:"M40.1962534 114.25895c-.8995232-3.593709.6341233-7.47033 3.7480133-9.4730321 5.1428821-3.3057251 11.9014619-.6256541 13.3885115 5.3084271.9005361 3.593708-.6341234 7.47033-3.7480134 9.472018-5.1428821 3.306739-11.9024748.626668-13.3885114-5.307413z",className:"dark"}),r.createElement("path",{d:"M167.531142 68.578024c5.693976 2.3701656 10.808765 4.685189 14.137049 6.2291717 2.637611 1.2235873 3.760635 4.5435305 2.394697 7.2074712-1.93878 3.7819972-6.229656 7.6685744-15.652542 4.499797-16.137463-5.4248556-28.020307-6.4145638-34.888971-2.9206373C126.652711 87.0868023 114.941176 91 114.941176 91l.996129-18.2872587 17.58407-14.3598001s26.112345 6.9374643 34.009767 10.2250828zM154.729889 131.470505c-.428018-3.216902.811507-6.574526 3.515925-8.65158 3.953939-3.033964 9.543615-2.184942 12.482489 1.894116l14.803417 19.521875c2.936147 4.080934 2.121914 9.849592-1.833843 12.885432-3.954848 3.035839-9.542706 2.188694-12.483397-1.894117l-14.803418-19.518122M189.75844 145.706046l-10.668192-13.419258c-2.393424-3.01169-1.869388-7.418913 1.16502-9.795305 3.034409-2.376391 7.474877-1.856279 9.869194 1.155412l10.667299 13.419258c2.393424 3.010805 1.870281 7.418913-1.164127 9.795305-3.034409 2.376391-7.475769 1.856279-9.869194-1.155412z",className:"left"}),r.createElement("path",{d:"M99.058824 132.165955l26.095075-16.460073m-13.599077 26.630316l26.095076-16.459187M123.257865 151l26.095076-16.459187",className:"left"}),r.createElement("path",{d:"M140.576426 136.727929c-.312263-2.745861.938669-5.566745 3.523301-7.260512 3.780072-2.474011 8.983196-1.603738 11.619559 1.940903l13.308786 16.983561c2.633541 3.547288 1.714623 8.42823-2.06827 10.904007-3.779131 2.474893-8.982255 1.607268-11.619558-1.94002l-13.307846-16.981796M148.4686102 164.187273c-2.8569284 1.892727-6.7389792 1.096363-8.62698101-1.769091l-8.54903181-12.981818c-1.88800183-2.866364-1.09400778-6.76 1.76292057-8.652728l.09517052-.062727c2.85692836-1.892727 6.73897918-1.097273 8.62698103 1.769091l8.5490318 12.980909c1.8880018 2.866364 1.0940078 6.76-1.7629206 8.653636l-.0951705.062728z",className:"left"}),r.createElement("path",{d:"M400.941176 5l-8.095627 101-81.951679 16.022727L292.903923 42z",className:"dark"}),r.createElement("path",{d:"M212.369152 71.8050341c-.030419 0-.058937.0018354-.087455.0055064-1.852711.8608274-3.292863 12.5232952 2.413562 31.2036173 5.706426 18.6803222 13.479447 27.7162572 15.52798 27.4693882 1.853662-.860827 3.293814-12.522377-2.412612-31.2036171-5.629427-18.4261119-13.260809-27.4748948-15.441475-27.4748948zm6.804364 55.2884309c-3.734891-5.746803-7.268255-13.745707-9.948934-22.5219254-5.093292-16.674172-6.811969-35.6912997 1.45251-38.0452681 3.930713-1.1168731 8.18748 1.7996616 12.654329 8.6734328 3.735841 5.7477208 7.268254 13.7457069 9.949884 22.5228428 2.68068 8.7762179 4.208287 17.3459479 4.302396 24.1297819.11122 8.11362-1.824193 12.79586-5.754906 13.914568-.545642.155096-1.096987.233103-1.654987.233103-3.461118 0-7.152281-2.985364-11.000292-8.906535z",className:"highlight"}),r.createElement("path",{d:"M234.867708 63.6470588l15.955821 49.4700432-20.157123 3.471133-17.784053-45.4402008z",className:"right"}))))}a(170);var Se=function(){var e=Object(i.e)(),t=e.chat,a=e.chatController,n=r.createRef(),c=r.useState(window.innerHeight),o=Object(ge.a)(c,2),l=o[0],u=o[1],m=function(){u(window.innerHeight)};Object(r.useEffect)((function(){n.current.focus()}),[n]),r.useEffect((function(){return window.addEventListener("resize",m),function(){return window.removeEventListener("resize",m)}}));var d=function(){return-1!==t.availableParticipantTypes.indexOf(s.j.VIRTUAL_ASSISTANT)?I.P:I.O},g=function(){a.openChat()};return r.createElement("div",{className:"nab-gc-ChatWelcome"},l>515?r.createElement(Ie,null):r.createElement(r.Fragment,null," "),r.createElement("div",{className:"nab-gc-ChatWelcome__content"},r.createElement("h3",{className:"nab-gc-ChatWelcome__title"},"Welcome to Chat"),r.createElement("p",{className:"nab-gc-ChatWelcome__body"},d()),r.createElement(G,{ref:n,variant:"success",onClick:g,tabIndex:0,"aria-label":"Welcome to chat. ".concat(d())},"Start Chat")))},Ae=(a(283),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.message,t=me.a.sanitize(e,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","target"]}),a=ee.a.replaceHtmlEntities(me.a.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}));return r.createElement("div",{className:"nab-gc-Disclaimer"},r.createElement(h,{message:a,index:-1}),r.createElement("span",{dangerouslySetInnerHTML:{__html:ee.a.transformExternalLinksInHTML(t)}}))}}]),a}(r.Component)),Be=(a(284),a(285),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={scrollIndex:0,enableLeft:!1,enableRight:!1},e.suggestionBar=void 0,e.focusTimeout=-1,e}return Object(l.a)(a,[{key:"widthOfElement",value:function(e){var t=getComputedStyle(e,null);return e.clientWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight)}},{key:"scrollTo",value:function(e){var t=this;if(e=Math.min(Math.max(e,0),this.props.suggestions.length-1),this.suggestionBar.scrollWidth<=this.suggestionBar.clientWidth){this.suggestionBar.getElementsByClassName("nab-gc-button")[e].focus({preventScroll:!0})}else{for(var a=this.getSuggestions(),n=0,r=0;r<e;r++)n+=this.widthOfElement(a[r]);this.suggestionBar.scrollLeft=n,-1!==this.focusTimeout&&clearTimeout(this.focusTimeout),this.focusTimeout=setTimeout((function(){t.suggestionBar.getElementsByClassName("nab-gc-button")[e].focus({preventScroll:!0}),t.focusTimeout=-1}),300)}}},{key:"onScroll",value:function(){if(this.suggestionBar){var e=this.suggestionBar.scrollLeft,t=this.suggestionBar.scrollLeft+this.suggestionBar.clientWidth,a=!1,n=!0;e>0&&(a=!0);for(var r=this.getSuggestions(),c=0,s=0,i=0;i<r.length;i++)s+30<e&&c++,s+=this.widthOfElement(r[i]);(t>=this.suggestionBar.scrollWidth||c>=r.length-1)&&(n=!1),this.state.enableLeft===a&&this.state.enableRight===n&&this.state.scrollIndex===c||this.setState({enableLeft:a,enableRight:n,scrollIndex:c})}}},{key:"scrollLeft",value:function(){this.scrollTo(this.state.scrollIndex-1)}},{key:"scrollRight",value:function(){this.scrollTo(this.state.scrollIndex+1)}},{key:"getSuggestions",value:function(){return this.suggestionBar.getElementsByClassName("nab-gc-SuggestionBarItem")}},{key:"handleKeyDown",value:function(e,t){if("ArrowLeft"===e.key)e.preventDefault(),this.scrollLeft();else if("ArrowRight"===e.key)e.preventDefault(),this.scrollRight();else if(e.shiftKey&&"Tab"===e.key)t>0&&(e.preventDefault(),this.scrollLeft());else if(!e.shiftKey&&"Tab"===e.key){t<this.getSuggestions().length-1&&(e.preventDefault(),this.scrollRight())}}},{key:"componentDidMount",value:function(){this.onScroll()}},{key:"componentDidUpdate",value:function(e){this.props.suggestions!==e.suggestions&&this.onScroll()}},{key:"render",value:function(){var e=this,t=this.state,a=t.enableLeft,n=t.enableRight,c=this.props,s=c.suggestions,i=c.animationDuration,o=s&&0!==s.length;return r.createElement(O,{show:o,animation:"grow-animation",delay:i},r.createElement("div",{className:"nab-gc-SuggestionBarContainer",onKeyDown:function(t){return e.handleKeyDown(t)}},r.createElement(O,{className:"nab-gc-ScrollButtonContainer",show:o&&a},r.createElement(G,{className:"nab-gc-ScrollButton",variant:"transparent",width:"minimum",tabIndex:-1,onClick:this.scrollLeft.bind(this)},r.createElement(x,{rotation:180}))),r.createElement("div",{ref:function(t){return e.suggestionBar=t},onScroll:function(){return e.onScroll()},className:"nab-gc-SuggestionsBox"},r.createElement(O,{className:"",show:o},r.createElement("ul",null,s&&s.map((function(t,a){return r.createElement("li",{className:"nab-gc-SuggestionBarItem",key:a,onKeyDown:function(t){return e.handleKeyDown(t,a)}},r.createElement(G,{variant:"radio",width:"minimum",onClick:function(){return e.props.onSendSuggestion(t)}},t.text))}))))),r.createElement(O,{className:"nab-gc-ScrollButtonContainer",show:o&&n},r.createElement(G,{className:"nab-gc-ScrollButton",variant:"transparent",width:"minimum",tabIndex:-1,onClick:this.scrollRight.bind(this)},r.createElement(x,{rotation:0})))))}}]),a}(r.Component)),je=a(307),De=(a(286),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderErrorScreen=function(){return r.createElement("div",{className:"nab-gc-ErrorScreen-content"},r.createElement("div",{className:"nab-gc-ErrorScreen-overlay"},r.createElement("div",{className:"nab-gc-ErrorScreen-error-icon"},r.createElement(je.a,{size:"sm",color:"primary"})),r.createElement("div",{className:"nab-gc-ErrorScreen-heading"},"Something's Not Working"),r.createElement("div",null,"We've experienced a technical difficulty."),r.createElement("br",null),r.createElement("div",null,"If you have any urgent issues, call ",r.createElement(ne,{href:"tel:".concat(I.h)},I.h)," or"," ",r.createElement(ne,{href:"tel:".concat(I.i)},I.i)," to talk to us (Mon to Fri 8am to 7pm, weekends 9pm to 6pm AEST/AEDT)")))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderErrorScreen()}}]),a}(r.Component)),Re=(a(287),function(){return r.createElement("svg",{className:"nab-gc-tick",viewBox:"0 0 14 13"},r.createElement("g",null,r.createElement("path",{d:"M5.61505 12.5142l-5.3115-5.313c-.3915-.39-.3915-1.023 0-1.413.39-.3915 1.0245-.3915 1.413 0l3.681 3.681 6.792-9.06c.3315-.4425.9585-.5325 1.3995-.201.4425.3315.5325.9585.201 1.3995l-8.175 10.9065z"})))}),_e=(a(288),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderConnectedIcon=function(){return r.createElement("div",{className:"nab-gc-ConnectedIcon__transparencyContainer"},r.createElement("div",{className:"nab-gc-ConnectedIcon__animationContainer"},r.createElement("svg",{className:"nab-gc-ConnectedIcon__approved",viewBox:"0 0 78 78"},r.createElement("circle",{className:"nab-gc-ConnectedIcon__approvedCircle",cx:"39",cy:"39",r:"35",stroke:"#228B22",strokeWidth:"4",fillOpacity:"0"})),r.createElement("span",{className:"nab-gc-ConnectedIcon__tick"},r.createElement(Re,null))),r.createElement("h3",{className:"nab-gc-ChatConnected__title"},"Connected!"))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderConnectedIcon()}}]),a}(r.Component)),Ue=(a(289),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderConnectedIcon=function(){return r.createElement("div",{className:"nab-gc-LoadingIcon__totalContainer"},r.createElement("div",{className:"nab-gc-LoadingIcon__spinnerContainer"},r.createElement("svg",{className:"nab-gc-LoadingIcon__spinnerForground",viewBox:"0 0 78 78"},r.createElement("circle",{cx:"39",cy:"78",r:"35",stroke:"#FF0000",strokeWidth:"4",fillOpacity:"0"})),r.createElement("svg",{className:"nab-gc-LoadingIcon__spinnerBackground",viewBox:"0 0 78 78"},r.createElement("circle",{cx:"39",cy:"39",r:"35",stroke:"#d1d1d1",strokeWidth:"6",fillOpacity:"0"}))),r.createElement("h3",{className:"nab-gc-LoadingIcon__spinnerTitle"},"Connecting you now..."))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderConnectedIcon()}}]),a}(r.Component)),He=function(){var e=Object(i.e)().chat,t=Object(r.useState)(s.k.LOADING),a=Object(ge.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){e.messages.length>0&&c(s.k.CONNECTED)}),[e.messages.length]),r.createElement(r.Fragment,null,n===s.k.LOADING?r.createElement("div",{className:"nab-gc-ChatConnected"},r.createElement(h,{message:"Connecting You now."}),r.createElement(Ue,null)):n===s.k.CONNECTED?r.createElement("div",{className:"nab-gc-ChatConnected"},r.createElement(h,{message:"Connected."}),r.createElement(_e,null)):null)},Pe=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onRead=function(t){e.context.chatController.readMessage(t)},e.scrollLockUnlock=function(t){e.context.chatController.scrollLockUnlock(t)},e.onSendSuggestion=function(t){var a=e.context,n=a.chat,r=a.chatController;r.sendSuggestion(t),r.getAnalyticsLogger().logSuggestionClick(n,t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.children,t=this.context.chat;return r.createElement("div",{className:"nab-gc-ChatWindow"},r.createElement("aside",{className:"nab-gc-ChatPanel"},r.createElement(Le,null),t.showFeedbackForm?r.createElement(nt,null):t.showWelcomeScreen?r.createElement(Se,null):t.showErrorScreen?r.createElement(De,null):t.showLoadingScreen?r.createElement(He,null):r.createElement(j,{lastReadIndex:t.lastReadMessageIndex,onRead:this.onRead,scrollLockedToBottom:t.scrollLockedToBottom,onScrollLockUnlock:this.scrollLockUnlock},e),!t.showFeedbackForm&&!t.showWelcomeScreen&&t.status!==s.c.ENDED&&t.status!==s.c.UNAVAILABLE&&!t.showErrorScreen&&!t.showLoadingScreen&&r.createElement(f.a,{key:"footer",classNames:"footer-animation",timeout:{enter:400,exit:400}},r.createElement("div",{className:"nab-gc-ChatPanelFooter"},r.createElement(Be,{suggestions:t.suggestions,onSendSuggestion:this.onSendSuggestion,animationDuration:400}),r.createElement(Ne,null)))))}}]),a}(r.Component);Pe.contextType=i.a;a(290);var We=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"messageRender",value:function(e,t,a,n){if(e.from.participantType===s.j.CLIENT)return r.createElement("div",{className:"nab-gc-Message"},r.createElement(le,{message:e,showMessageHeader:t}));switch(e.messageType){case s.i.MESSAGE:return e.from.participantType===s.j.SYSTEM?r.createElement("div",{className:"nab-gc-Message"},r.createElement(it,{message:e})):r.createElement("div",{className:"nab-gc-Message"},r.createElement(de,{message:e,showMessageHeader:t}));case s.i.CAROUSEL:return r.createElement(ve,{message:e});case s.i.INFO:case s.i.PARTICIPANT_JOINED:return r.createElement("div",{className:"nab-gc-Message"},r.createElement(it,{message:e}));case s.i.PARTICIPANT_LEFT:return r.createElement("div",{className:"nab-gc-Message"},r.createElement(ct,{message:e}));case s.i.ERROR:return r.createElement("div",{className:"nab-gc-Message"},r.createElement(it,{message:e}))}return null}},{key:"render",value:function(){var e=this,t=this.context.chat;return r.createElement(b.a,{className:"nab-gc-MessageList"},t.messages.map((function(a,n,c){var i=a.from.participantType===s.j.CLIENT,o=0===n||a.from.id!==c[n-1].from.id||a.messageType!==c[n-1].messageType;return r.createElement(f.a,{key:a.index,classNames:i?"slide-from-right":"slide-from-left",timeout:{enter:400,exit:400}},r.createElement(L,{readable:!i,index:a.index},r.createElement("div",{className:"nab-gc-MessageList-item"},e.messageRender(a,o,n===t.messages.length-1,t.status===s.c.ACTIVE))))})),this.queuingIndicator(t),t.externalParticipants.map((function(a){return e.typingIndicatorForExternalParticipants(t,a)})),t.availableParticipantTypes.map((function(a){return e.typingIndicatorForAvailableParticipants(t,a)})))}},{key:"typingIndicator",value:function(e,t){return r.createElement(f.a,{key:"typing-"+e,classNames:"slide-from-left",timeout:{enter:400,exit:400}},r.createElement(L,{readable:!1,index:void 0},r.createElement("div",{className:"nab-gc-Message"},r.createElement(D,{nickname:e,participantType:t}))))}},{key:"queuingIndicator",value:function(e){return e.status===s.c.ACTIVE&&e.isInQueue?r.createElement(f.a,{classNames:"slide-from-left",timeout:{enter:400,exit:400}},r.createElement("div",{className:"nab-gc-Message"},r.createElement(ot,{messageContent:e.queueMessage}))):null}},{key:"typingIndicatorForExternalParticipants",value:function(e,t){return t.typing&&e.status===s.c.ACTIVE?this.typingIndicator(t.nickname,t.participantType):null}},{key:"typingIndicatorForAvailableParticipants",value:function(e,t){return t!==s.j.VIRTUAL_ASSISTANT||e.status!==s.c.INITIATING&&e.status!==s.c.ACTIVE||0!==e.externalParticipants.length?null:this.typingIndicator(t,t)}}]),a}(r.Component);We.contextType=i.a;a(291);var ze=a(22),Ze=a(43),Ge=a(65),Ke=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={proactiveMessageHidden:!1,mouseOnProactiveMessage:!1,hover:!1,clearTimeout:function(){}},e.TIMEOUT={enter:400,exit:400},e.calculateUnreadMessageCount=function(e){var t=e.messages;return t?t.filter((function(t){return t.from.participantType!==s.j.CLIENT&&e.lastReadMessageIndex<t.index})).length:0},e.clickFAB=function(){e.context.chatController.requestChat()},e}return Object(l.a)(a,[{key:"setHover",value:function(e){this.setState({hover:e})}},{key:"displayNotificationForLimitedTime",value:function(){var e=this;this.state.clearTimeout();var t=window.setTimeout((function(){!e.state.mouseOnProactiveMessage||e.state.proactiveMessageHidden?e.setState({proactiveMessageHidden:!0}):e.displayNotificationForLimitedTime()}),ze.e);this.setState({proactiveMessageHidden:!1,clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return clearTimeout(t)}))})}},{key:"getUnreadMessagesCount",value:function(e){var t=e.proactiveMessage,a=this.calculateUnreadMessageCount(e);return a>0?a:!(!t||!this.state.proactiveMessageHidden)?1:0}},{key:"componentDidMount",value:function(){this.displayNotificationForLimitedTime()}},{key:"componentWillUnmount",value:function(){this.state.clearTimeout()}},{key:"renderBody",value:function(e){var t=this,a=this.context.platform,n=this.getUnreadMessagesCount(e),c=n>1&&n<=9,s=1===n||n>9,i=e.proactiveMessage&&!this.state.proactiveMessageHidden,o=new Ge.a(a,new Ze.a);return r.createElement(b.a,null,s&&r.createElement(f.a,{key:"bell",classNames:"grow",timeout:this.TIMEOUT},r.createElement("div",{className:"nab-gc-FAB-chatNotificationBell "+(this.state.hover?"hover":""),onClick:this.clickFAB},r.createElement(h,{message:"Chat, new message".concat(n>9?"s":"",".")}),r.createElement(X,{size:16,animated:!0}))),c&&r.createElement(f.a,{key:"number",classNames:"grow",timeout:this.TIMEOUT},r.createElement("div",{className:"nab-gc-FAB-chatNotificationNumber "+(this.state.hover?"hover":""),onClick:this.clickFAB},r.createElement(h,{message:"Chat, ".concat(n," new message.")}),n)),i&&r.createElement(f.a,{key:"message",classNames:"grow",timeout:this.TIMEOUT},r.createElement("div",{role:"button",className:"nab-gc-FAB-proactiveChatContainer",onClick:function(){o.logEvent("ProactiveMessageClicked"),t.clickFAB()},onKeyPress:function(){return t.clickFAB()},onMouseEnter:function(){return t.setState({mouseOnProactiveMessage:!0})},onMouseLeave:function(){return t.setState({mouseOnProactiveMessage:!1})},onMouseOver:function(){return t.setState({mouseOnProactiveMessage:!0})}},r.createElement(st,{message:e.proactiveMessage,onClose:function(){o.logEvent("ProactiveMessageClosed"),t.setState({proactiveMessageHidden:!0,mouseOnProactiveMessage:!1})}}))))}},{key:"renderWithChat",value:function(e){var t=this,a=e.status===s.c.INITIATING,n=y()("nab-gc-FAB",{"nab-gc-FAB-fabDeactivate":a},{"nab-gc-FAB-hover":!a&&this.state.hover}),c=this.getUnreadMessagesCount(e),i=c>0?"Chat has ".concat(c," unread message").concat(c>1?"s":""):"NAB Chat";return r.createElement("div",{className:"nab-gc-FAB-Container"},r.createElement("button",{"aria-label":i,id:"nab-gc-FAB-button",type:"button",className:n,onClick:this.clickFAB,onKeyPress:this.clickFAB,onFocus:function(){return t.setHover(!0)},onBlur:function(){return t.setHover(!1)},onMouseOver:function(){return t.setHover(!0)},onMouseLeave:function(){return t.setHover(!1)}},r.createElement(oe,{withHeartbeat:e.status===s.c.AVAILABLE})),this.renderBody(e))}},{key:"render",value:function(){var e=this;return r.createElement(i.b,null,(function(t){return e.renderWithChat(t)}))}}]),a}(r.Component);Ke.contextType=i.a;a(292);var Ve=function(e){return r.createElement("span",{className:e.className,dangerouslySetInnerHTML:e.dangerouslySetInnerHTML})},qe=function(e){var t=e.children,a=e.index,n=me.a.sanitize(t,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});return r.createElement("div",{className:"nab-gc-SystemMessage"},r.createElement(h,{message:n,index:a}),r.createElement(z,{pinchTopLeft:!0,systemMessage:!0},r.createElement(Ve,{className:"nab-gc-SystemMessage-body",dangerouslySetInnerHTML:{__html:t}})))},Ye=(a(293),["id","name","value","isSelected","className","appearance","theme","size","children","onChange","onKeyDown"]),Je=c.a.forwardRef((function(e,t){var a=e.id,n=e.name,r=e.value,s=e.isSelected,i=e.className,o=void 0===i?"":i,l=e.appearance,u=void 0===l?"default":l,m=e.theme,d=void 0===m?"black":m,g=e.size,h=void 0===g?"medium":g,f=e.children,b=e.onChange,p=void 0===b?function(){}:b,v=e.onKeyDown,C=void 0===v?function(){}:v,y=Object(E.a)(e,Ye),k=t||c.a.createRef();return c.a.createElement("div",{className:"radio-button-container ".concat(u," ").concat(d," ").concat(h," ").concat(o)},c.a.createElement("input",Object.assign({type:"radio",id:a,name:n,value:r,className:"radio-button",ref:k,checked:!!s,onChange:function(){return p(r)},onKeyDown:function(e){return C(e)}},y)),c.a.createElement("label",{className:"radio-button-label",htmlFor:a},f))})),Qe=function(){return c.a.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 48 48",version:"1.1",className:"icon-positive"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},c.a.createElement("g",{id:"Feedback",transform:"translate(-261.000000, -416.000000)"},c.a.createElement("g",{id:"Group-5",transform:"translate(0.000000, 260.000000)"},c.a.createElement("g",{id:"Group-2",transform:"translate(215.000000, 116.000000)"},c.a.createElement("g",{id:"Icons-/-Object-/-Face-smiley",transform:"translate(38.000000, 32.000000)"},c.a.createElement("path",{d:"M32,52 C43.045695,52 52,43.045695 52,32 C52,20.954305 43.045695,12 32,12 C20.954305,12 12,20.954305 12,32 C12,43.045695 20.954305,52 32,52 Z M32,56 C18.745166,56 8,45.254834 8,32 C8,18.745166 18.745166,8 32,8 C45.254834,8 56,18.745166 56,32 C56,45.254834 45.254834,56 32,56 Z M45.3333333,28 C45.3333333,29.1045695 44.4379028,30 43.3333333,30 C42.2287638,30 41.3333333,29.1045695 41.3333333,28 C41.3333333,27.2636203 40.7363797,26.6666667 40,26.6666667 C39.2636203,26.6666667 38.6666667,27.2636203 38.6666667,28 C38.6666667,29.1045695 37.7712362,30 36.6666667,30 C35.5620972,30 34.6666667,29.1045695 34.6666667,28 C34.6666667,25.0544813 37.0544813,22.6666667 40,22.6666667 C42.9455187,22.6666667 45.3333333,25.0544813 45.3333333,28 Z M29.3333333,28 C29.3333333,29.1045695 28.4379028,30 27.3333333,30 C26.2287638,30 25.3333333,29.1045695 25.3333333,28 C25.3333333,27.2636203 24.7363797,26.6666667 24,26.6666667 C23.2636203,26.6666667 22.6666667,27.2636203 22.6666667,28 C22.6666667,29.1045695 21.7712362,30 20.6666667,30 C19.5620972,30 18.6666667,29.1045695 18.6666667,28 C18.6666667,25.0544813 21.0544813,22.6666667 24,22.6666667 C26.9455187,22.6666667 29.3333333,25.0544813 29.3333333,28 Z M17.4745418,37.9373574 C17.0676054,36.9104803 17.5701667,35.7481448 18.5970438,35.3412085 C19.6239209,34.9342721 20.7862564,35.4368334 21.1931927,36.4637105 C22.7620237,40.4225521 27.0156599,43.1685681 31.895898,43.1685681 C36.6740738,43.1685681 40.8592523,40.5358954 42.5036974,36.6940144 C42.9383452,35.6785564 44.1138882,35.2077166 45.1293463,35.6423644 C46.1448044,36.0770122 46.6156441,37.2525552 46.1809963,38.2680133 C43.8927824,43.6139173 38.2419289,47.1685681 31.895898,47.1685681 C25.4112428,47.1685681 19.6618779,43.4569559 17.4745418,37.9373574 Z",id:"Colour"})))))))},Xe=function(){return c.a.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 48 48",version:"1.1",className:"icon-negative"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},c.a.createElement("g",{id:"Feedback",transform:"translate(-101.000000, -416.000000)"},c.a.createElement("g",{id:"Group-5",transform:"translate(0.000000, 260.000000)"},c.a.createElement("g",{id:"Group-3",transform:"translate(55.000000, 116.000000)"},c.a.createElement("g",{id:"Icons-/-Object-/-Face-sad",transform:"translate(38.000000, 32.000000)"},c.a.createElement("path",{d:"M32,52 C43.045695,52 52,43.045695 52,32 C52,20.954305 43.045695,12 32,12 C20.954305,12 12,20.954305 12,32 C12,43.045695 20.954305,52 32,52 Z M32,56 C18.745166,56 8,45.254834 8,32 C8,18.745166 18.745166,8 32,8 C45.254834,8 56,18.745166 56,32 C56,45.254834 45.254834,56 32,56 Z M44.4679142,41.789091 C44.9479597,42.7838926 44.5306675,43.9794923 43.5358659,44.4595378 C42.5410644,44.9395833 41.3454646,44.5222911 40.8654191,43.5274896 C39.7110076,41.1351947 36.1633329,39.3333333 32.0020172,39.3333333 C27.8369723,39.3333333 24.287114,41.138395 23.1358674,43.5331947 C22.6572972,44.5287068 21.4623173,44.947771 20.4668053,44.4692007 C19.4712932,43.9906305 19.052229,42.7956507 19.5307993,41.8001386 C21.4175641,37.8753287 26.4166861,35.3333333 32.0020172,35.3333333 C37.5818365,35.3333333 42.5768954,37.8703201 44.4679142,41.789091 Z M22.6666667,32 C20.4575277,32 18.6666667,30.209139 18.6666667,28 C18.6666667,25.790861 20.4575277,24 22.6666667,24 C24.8758057,24 26.6666667,25.790861 26.6666667,28 C26.6666667,30.209139 24.8758057,32 22.6666667,32 Z M41.3333333,32 C39.1241943,32 37.3333333,30.209139 37.3333333,28 C37.3333333,25.790861 39.1241943,24 41.3333333,24 C43.5424723,24 45.3333333,25.790861 45.3333333,28 C45.3333333,30.209139 43.5424723,32 41.3333333,32 Z",id:"Colour"})))))))},$e=function(){return c.a.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 64 64",version:"1.1",className:"icon-positive-filled"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},c.a.createElement("g",{id:"Feedback---Hover",transform:"translate(-231.000000, -192.000000)"},c.a.createElement("g",{id:"Group-5",transform:"translate(191.000000, 160.000000)"},c.a.createElement("path",{d:"M72,96 C54.326888,96 40,81.673112 40,64 C40,46.326888 54.326888,32 72,32 C89.673112,32 104,46.326888 104,64 C104,81.673112 89.673112,96 72,96 Z M89.7777778,58.6666667 C89.7777778,60.139426 88.5838704,61.3333333 87.1111111,61.3333333 C85.6383518,61.3333333 84.4444444,60.139426 84.4444444,58.6666667 C84.4444444,57.6848271 83.6485062,56.8888889 82.6666667,56.8888889 C81.6848271,56.8888889 80.8888889,57.6848271 80.8888889,58.6666667 C80.8888889,60.139426 79.6949816,61.3333333 78.2222222,61.3333333 C76.7494629,61.3333333 75.5555556,60.139426 75.5555556,58.6666667 C75.5555556,54.7393084 78.7393084,51.5555556 82.6666667,51.5555556 C86.5940249,51.5555556 89.7777778,54.7393084 89.7777778,58.6666667 Z M68.4444444,58.6666667 C68.4444444,60.139426 67.2505371,61.3333333 65.7777778,61.3333333 C64.3050184,61.3333333 63.1111111,60.139426 63.1111111,58.6666667 C63.1111111,57.6848271 62.3151729,56.8888889 61.3333333,56.8888889 C60.3514938,56.8888889 59.5555556,57.6848271 59.5555556,58.6666667 C59.5555556,60.139426 58.3616482,61.3333333 56.8888889,61.3333333 C55.4161296,61.3333333 54.2222222,60.139426 54.2222222,58.6666667 C54.2222222,54.7393084 57.4059751,51.5555556 61.3333333,51.5555556 C65.2606916,51.5555556 68.4444444,54.7393084 68.4444444,58.6666667 Z M52.6327224,71.9164765 C52.0901406,70.5473071 52.7602223,68.9975264 54.1293917,68.4549446 C55.4985612,67.9123628 57.0483418,68.5824445 57.5909236,69.951614 C59.6826983,75.2300695 65.3542131,78.8914241 71.8611973,78.8914241 C78.2320985,78.8914241 83.8123364,75.3811938 86.0049298,70.2586859 C86.5844602,68.9047418 88.151851,68.2769555 89.505795,68.8564858 C90.8597391,69.4360162 91.4875255,71.003407 90.9079951,72.357351 C87.8570432,79.4852231 80.3225719,84.2247574 71.8611973,84.2247574 C63.2149904,84.2247574 55.5491705,79.2759412 52.6327224,71.9164765 Z",id:"Colour"})))))},et=function(){return c.a.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 64 64",version:"1.1",className:"icon-negative-filled"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},c.a.createElement("g",{id:"Feedback-Copy-6",transform:"translate(-119.000000, -192.000000)"},c.a.createElement("g",{id:"Group-7",transform:"translate(79.000000, 160.000000)"},c.a.createElement("g",{id:"Group-6"},c.a.createElement("g",{id:"Group-2",transform:"translate(0.000000, 32.000000)"},c.a.createElement("path",{d:"M72,64 C54.326888,64 40,49.673112 40,32 C40,14.326888 54.326888,0 72,0 C89.673112,0 104,14.326888 104,32 C104,49.673112 89.673112,64 72,64 Z M88.6238856,45.0521214 C89.2639463,46.3785234 88.7075566,47.9726564 87.3811546,48.6127171 C86.0547525,49.2527778 84.4606195,48.6963881 83.8205589,47.3699861 C82.2813435,44.1802596 77.5511105,41.7777778 72.0026896,41.7777778 C66.4492964,41.7777778 61.716152,44.1845266 60.1811565,47.377593 C59.5430629,48.7049424 57.9497565,49.2636946 56.622407,48.625601 C55.2950576,47.9875073 54.7363054,46.3942009 55.374399,45.0668515 C57.8900855,39.8337716 64.5555815,36.4444444 72.0026896,36.4444444 C79.4424487,36.4444444 86.1025272,39.8270934 88.6238856,45.0521214 Z M59.5555556,32 C56.6100369,32 54.2222222,29.6121853 54.2222222,26.6666667 C54.2222222,23.721148 56.6100369,21.3333333 59.5555556,21.3333333 C62.5010742,21.3333333 64.8888889,23.721148 64.8888889,26.6666667 C64.8888889,29.6121853 62.5010742,32 59.5555556,32 Z M84.4444444,32 C81.4989258,32 79.1111111,29.6121853 79.1111111,26.6666667 C79.1111111,23.721148 81.4989258,21.3333333 84.4444444,21.3333333 C87.3899631,21.3333333 89.7777778,23.721148 89.7777778,26.6666667 C89.7777778,29.6121853 87.3899631,32 84.4444444,32 Z",id:"Colour"})))))))},tt=(a(294),function(e){var t=e.showAll,a=e.feedbackForm,n=e.handleCreate,s=e.handleUpdate,i=Object(r.useState)(""),o=Object(ge.a)(i,2),l=o[0],u=o[1],m=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(t),d=function(e){a.instanceId?s({rating:parseInt(e,10),options:["","",""]}):n({rating:parseInt(e,10),options:["","",""]})},g=function(e){if("Enter"===e.key&&!t){e.preventDefault(),e.stopPropagation();var a=e.currentTarget.value;a&&d(a)}};return Object(r.useEffect)((function(){t&&!1===m&&(u("animation-start"),setTimeout((function(){return u("animation-end")}),300),setTimeout((function(){return u("")}),600))}),[t,m]),c.a.createElement("div",{className:"nab-gc-FeedbackForm-decision-container ".concat(t?"selected":""," ").concat(l)},c.a.createElement("div",{className:"nab-gc-FeedbackForm-decision-button"},c.a.createElement(Je,{id:"feedback-negative-button",name:"decision",value:I.q.toString(),isSelected:a.rating===I.q,theme:"negative",appearance:t?"pill":"default",size:t?"medium":"large",onChange:d,onKeyDown:g},c.a.createElement("div",{className:"nab-gc-FeedbackForm-decision-label"},c.a.createElement(Xe,null),c.a.createElement(et,null),c.a.createElement("span",null,"Negative")))),c.a.createElement("div",{className:"nab-gc-FeedbackForm-decision-button"},c.a.createElement(Je,{id:"feedback-positive-button",name:"decision",value:I.s.toString(),isSelected:a.rating===I.s,theme:"positive",appearance:t?"pill":"default",size:t?"medium":"large",onChange:d,onKeyDown:g},c.a.createElement("div",{className:"nab-gc-FeedbackForm-decision-label"},c.a.createElement(Qe,null),c.a.createElement($e,null),c.a.createElement("span",null,"Positive")))))}),at=(a(295),["Without chat, would you have called?","Did we answer your question effectively?","Do you still need to call NAB?"]),nt=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={comment:""},e.renderFeedbackError=function(){return c.a.createElement("div",{className:"nab-gc-FeedbackForm-container"},c.a.createElement(De,null),c.a.createElement("div",{className:"nab-gc-FeedbackForm-cta"},c.a.createElement(G,{id:"feedback-view-chat-history-button",variant:"light",size:"medium",onClick:function(t){return e.hideFeedbackForm(t)}},"View Chat History")))},e.renderFeedbackSummary=function(t){return c.a.createElement("div",{className:"nab-gc-FeedbackForm-container"},c.a.createElement("div",{className:"nab-gc-FeedbackForm-content"},c.a.createElement("div",{className:"nab-gc-FeedbackForm-overlay"},t===I.s&&c.a.createElement("div",{className:"nab-gc-FeedbackForm-summary-icon positive"},c.a.createElement($e,null),c.a.createElement("span",null,"Positive")),t===I.q&&c.a.createElement("div",{className:"nab-gc-FeedbackForm-summary-icon negative"},c.a.createElement(et,null),c.a.createElement("span",null,"Negative")),c.a.createElement("div",{className:"nab-gc-FeedbackForm-heading"},"Thank you."),c.a.createElement("div",null,"Your feedback will help us improve."))),c.a.createElement("div",{className:"nab-gc-FeedbackForm-cta"},c.a.createElement(G,{id:"feedback-view-chat-history-button",variant:"light",size:"medium",onClick:function(t){return e.hideFeedbackForm(t)}},"View Chat History")))},e.handleCreate=function(t){e.context.feedbackFormController.createFeedbackForm(t)},e.handleUpdate=function(t){e.context.feedbackFormController.updateFeedbackForm(t)},e.handleOptionChange=function(t,a){var n=e.context.chat.feedbackForm.options.map((function(e,n){return n===a?t:e}));e.handleUpdate({options:n})},e.handleSubmit=function(t){t.preventDefault(),e.context.feedbackFormController.submitFeedbackForm()},e.hideFeedbackForm=function(t){t.preventDefault(),e.context.feedbackFormController.hideFeedbackForm()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.chat,n=t.chatController,r=!!a.feedbackForm.rating,s=!!a.feedbackForm.error,i=n.getAnalyticsLogger();return a.showFeedbackSummary&&s?(i.logEvent("ShowErrorScreen"),this.renderFeedbackError()):a.showFeedbackSummary&&!s?this.renderFeedbackSummary(a.feedbackForm.rating):c.a.createElement("form",{className:"nab-gc-FeedbackForm-container ".concat(r?"show-all":""),onSubmit:function(t){return e.handleSubmit(t)}},c.a.createElement("div",{className:"nab-gc-FeedbackForm-content"},c.a.createElement("div",{className:"nab-gc-FeedbackForm-overlay"},c.a.createElement("div",{className:"nab-gc-FeedbackForm-heading"},"We'd love your feedback","".concat(r?"":", so we can continue to improve.")),c.a.createElement("fieldset",null,c.a.createElement("legend",{className:"nab-gc-FeedbackForm-legend large"},"How was your experience today?"),c.a.createElement(tt,{showAll:r,feedbackForm:a.feedbackForm,handleCreate:this.handleCreate,handleUpdate:this.handleUpdate}))),r&&c.a.createElement(c.a.Fragment,null,at.map((function(t,n){return c.a.createElement("fieldset",{className:"nab-gc-FeedbackForm-option-container",key:t},c.a.createElement("legend",{className:"nab-gc-FeedbackForm-legend"},t),c.a.createElement("div",{className:"nab-gc-FeedbackForm-option-group"},c.a.createElement(Je,{id:"feedback-option-".concat(n,"-").concat(I.p),name:"option-".concat(n),value:I.p,appearance:"pill",isSelected:a.feedbackForm.options[n]===I.p,onChange:function(t){return e.handleOptionChange(t,n)}},I.p),c.a.createElement(Je,{id:"feedback-option-".concat(n,"-").concat(I.r),name:"option-".concat(n),value:I.r,appearance:"pill",isSelected:a.feedbackForm.options[n]===I.r,onChange:function(t){return e.handleOptionChange(t,n)}},I.r)))})),c.a.createElement("div",{className:"nab-gc-FeedbackForm-comment-container"},c.a.createElement("label",{className:"nab-gc-FeedbackForm-legend",htmlFor:"feedback-comment-textarea"},"Do you have any other feedback?"),c.a.createElement("textarea",{className:"nab-gc-FeedbackForm-comment-textarea",onChange:function(t){return e.setState({comment:t.target.value})},onBlur:function(){return e.handleUpdate({comment:e.state.comment})},value:this.state.comment,id:"feedback-comment-textarea",rows:2})))),r&&c.a.createElement("div",{className:"nab-gc-FeedbackForm-cta"},c.a.createElement(G,{variant:"dark",size:"medium",type:"submit",id:"feedback-submit-button"},"Submit Feedback")))}},{key:"componentDidMount",value:function(){var e=this.context.chat,t=(e=void 0===e?{}:e).feedbackForm,a=(t=void 0===t?{}:t).comment,n=void 0===a?"":a;this.setState({comment:n})}}]),a}(r.Component);nt.contextType=i.a;var rt=function(e){return r.createElement("p",{className:e.className,dangerouslySetInnerHTML:e.dangerouslySetInnerHTML})},ct=(r.Component,function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.message;if(e.from.participantType===s.j.CLIENT)return r.createElement(qe,{index:e.index},"You have left the conversation");var t=e.from.nickname+" has left the conversation";return r.createElement(qe,{index:e.index},t)}}]),a}(r.Component)),st=(a(296),function(e){var t=e.message,a=e.onClose,n="".concat(t.from.nickname," wrote: ").concat(t.content," Go to chat to view."),c=function(e){a(),e.stopPropagation()};return r.createElement(o.b,null,(function(e){return r.createElement("div",{className:"nab-gc-ProactiveMessage"},r.createElement("div",{className:"nab-gc-ProactiveMessage-bubble-container"},r.createElement(z,{proactiveMessage:!0},r.createElement("div",{className:"nab-gc-ProactiveMessage-wrapper"},r.createElement("div",{className:"nab-gc-ProactiveMessage-header"},r.createElement("div",{className:"nab-gc-ProactiveMessage-logo"},r.createElement("img",{alt:"Participant Logo",src:e.logos[t.from.participantType]})),r.createElement("div",{"aria-hidden":"true",className:"nab-gc-ProactiveMessage-title"},t.from.nickname),r.createElement("button",{"aria-label":"Close",className:"nab-gc-ProactiveMessage-close-button",onClick:c},r.createElement(q,null))),r.createElement("p",{lang:"en",className:"nab-gc-ProactiveMessage-body"},t.content)),r.createElement(h,{message:n}),r.createElement("div",{className:"nab-gc-a11y-visually-hidden"},r.createElement("p",null,t.from.nickname+" wrote ")))))}))}),it=function(e){var t=e.message,a=function(e){switch(e){case s.i.ERROR:return M;case s.i.INFO:case s.i.PARTICIPANT_JOINED:return T;default:return w}}(t.messageType),n=t.contentType===s.e.HTML?me.a.sanitize(t.content,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}):t.content;return r.createElement(a,null,r.createElement(h,{message:n,index:t.index}),t.contentType===s.e.HTML?r.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}}):t.content)};a(297);var ot=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.messageContent,t=me.a.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});return r.createElement("div",{className:"nab-gc-QueueStatus"},r.createElement(h,{message:t}),r.createElement(z,{pinchTopLeft:!0,systemMessage:!0,flexGrow:!0},r.createElement(re,null),r.createElement("div",{className:"nab-gc-QueueStatus-span"},r.createElement(Ve,{className:"nab-gc-SystemMessage-body",dangerouslySetInnerHTML:{__html:t}}))))}}]),a}(r.Component),lt=(a(298),function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={markedAsFailed:!1},e.resendLink=void 0,e.updateMarkedAsFailed=function(t){e.setState((function(){return{markedAsFailed:t}}))},e.setFocusToLink=function(){e.resendLink&&e.resendLink.focus()},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.state.markedAsFailed||this.props.deliveryStatus===s.f.FAILED&&(this.setFocusToLink(),this.updateMarkedAsFailed(!0))}},{key:"render",value:function(){var e=this,t=this.props,a=t.deliveryStatus,n=t.chatStatus,c=t.index,i=n===s.c.ACTIVE;return r.createElement("div",{className:"nab-gc-MessageDeliveryStatus"},a===s.f.SENDING&&"Sending...",a===s.f.FAILED&&r.createElement("span",null,r.createElement(h,{message:"Not delivered. ".concat(i?"Resend message.":""),index:c}),"Not delivered.",i&&r.createElement(r.Fragment,null,r.createElement("button",{className:"nab-gc-resendLink",ref:function(t){return e.resendLink=t}},"\xa0Resend"),"\xa0message.")))}}]),a}(r.Component)),ut=a(64),mt=new Ee.Subject,dt=function(e){var t=r.useContext(i.a),a=t.chat,n=t.chatController,c=r.useRef(),o=r.useCallback((function(){c.current&&clearTimeout(c.current),e.enabled&&a.status===s.c.ACTIVE&&(c.current=setTimeout((function(){var e=n.nextValidMessageIndex(),t=[{title:I.L,type:s.d.DEEP_LINK,payload:{url:"".concat(te.b).concat(ut.c,"?").concat(ut.b,"=").concat(e)}}];n.addPromptMessage(I.M,t,e)}),1e3*I.N))}),[a.status,n,e.enabled]);return Object(r.useEffect)((function(){e.enabled&&a.status===s.c.ACTIVE&&((mt=new Ee.Subject).pipe(Object(Ce.debounceTime)(I.k)).subscribe((function(){return o()})),o())}),[e.enabled,a.status,o]),r.createElement("div",{onClick:function(){return mt.next()},onKeyPress:function(){return mt.next()},onTouchMove:function(){return mt.next()}},e.children)};t.default=function(e){var t=function(e){return e.status!==s.c.AVAILABLE||e.chatWindowOpen?e.status===s.c.ENDED&&e.chatWindowOpen?e.showFeedbackForm&&e.showFeedbackSummary?e.feedbackForm.error?"Sorry. Something's Not Working":"Thanks for your feedback.":e.showFeedbackForm&&!e.showFeedbackSummary?"Feedback form is opened. Chat disconnected.":"Chat disconnected. Message sending disabled.":e.status!==s.c.ACTIVE||e.chatWindowOpen?e.chatWindowOpen?"Live chat window open.":"":"Chat minimised.":"To initiate live chat use the live chat button on the page."};return r.createElement(o.c,{platform:e.platform},r.createElement(i.c,{initialChat:{},platform:e.platform,chatMiddleware:e.platform.chatMiddleware(),chatController:e.platform.chatController(),feedbackFormController:e.platform.feedbackFormController()},r.createElement(i.b,null,(function(e){return r.createElement(g,{lastReadMessageIndex:e.lastReadMessageIndex},r.createElement("div",{className:"nab-gc-App"},r.createElement(dt,{enabled:e.authenticated},r.createElement(h,{message:t(e)}),r.createElement(b.a,null,e.chatWindowOpen?r.createElement(f.a,{key:"chatWindow",classNames:"zoom",timeout:{enter:350,exit:350,appear:500}},r.createElement(Pe,null,r.createElement(o.b,null,(function(e){return e.content.disclaimer?r.createElement(Ae,{message:e.content.disclaimer}):null})),r.createElement(We,null))):e.status===s.c.AVAILABLE||e.status===s.c.ACTIVE||e.status===s.c.ENDED?r.createElement(f.a,{key:"fab",classNames:"zoom-spring",timeout:{enter:350,exit:350,appear:500}},r.createElement(Ke,null)):null))))}))))}}}]);